((e,t)=>{"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self)["web-see"]=t()})(this,function(){function j(e){console.error("webmonitor error: "+e)}function L(t){return function(e){return Object.prototype.toString.call(e)==="[object "+t+"]"}}let P={isString:L("String"),isNumber:L("Number"),isUndefined:L("Undefined")};function M(){return"undefined"!=typeof document&&document.location?document.location.href:""}function $(e,t,i,r=!1){e.addEventListener(t,i,r)}function a(e,t,i){return e&&(Object.prototype.toString.call(e).slice(8,-1).toLowerCase()===i||void j(t+` 必须是 ${i} 类型`))}function u(){return Date.now()}function F(e,t,i,r=!1){e&&(t in e||r)&&"function"==typeof(r=i(e[t]))&&(e[t]=r)}function q(e){return P.isString(e)?e:P.isUndefined(e)?"undefined":JSON.stringify(e)}function B(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t}var X=500,z="user-agent",G="",V="?",W="function",s="undefined",K="object",J="string",d="browser",h="cpu",p="device",b="engine",m="os",Y="result",f="name",w="type",g="vendor",v="version",y="architecture",Q="major",E="model",Z="console",R="mobile",o="tablet",e="smarttv",t="wearable",ee="xr",te="embedded",i="inapp",ie="brands",re="formFactors",oe="fullVersionList",ne="platform",ae="platformVersion",se="bitness",r="sec-ch-ua",ce=r+"-full-version-list",le=r+"-arch",ue=r+"-"+se,de=r+"-form-factors",he=r+"-"+R,pe=r+"-"+E,be=r+"-"+ne,me=be+"-version",fe=[ie,oe,R,E,ne,ae,y,re,se],we="Amazon",ge="Apple",ve="BlackBerry",ye="Google",Ee="Microsoft",Re="Motorola",n="Nvidia",ke="OnePlus",xe="OPPO",c="Samsung",Oe="Sony",Ce="Xiaomi",Ne="Zebra",Te="Chromium",Se="Chromecast",He="Firefox",l="Opera",Ie="Facebook",Ue="Mobile ",k=" Browser",_e="Windows",x=typeof window!==s&&window.navigator?window.navigator:void 0,Ae=x&&x.userAgentData?x.userAgentData:void 0,De=function(e,t){if(typeof e===K&&0<e.length){for(var i in e)if(O(e[i])==O(t))return!0;return!1}return!!Le(e)&&-1!==O(t).indexOf(O(e))},je=function(e,t){for(var i in e)return/^(browser|cpu|device|engine|os)$/.test(i)||!!t&&je(e[i])},Le=function(e){return typeof e===J},Pe=function(e){if(e){for(var t,i=[],r=$e(/\\?\"/g,e).split(","),o=0;o<r.length;o++)-1<r[o].indexOf(";")?(t=qe(r[o]).split(";v="),i[o]={brand:t[0],version:t[1]}):i[o]=qe(r[o]);return i}},O=function(e){return Le(e)?e.toLowerCase():e},Me=function(e){return Le(e)?$e(/[^\d\.]/g,e).split(".")[0]:void 0},C=function(e){for(var t in e){t=e[t];typeof t==K&&2==t.length?this[t[0]]=t[1]:this[t]=void 0}return this},$e=function(e,t){return Le(t)?t.replace(e,G):t},Fe=function(e){return $e(/\\?\"/g,e)},qe=function(e,t){if(Le(e))return e=$e(/^\s\s*/,e),typeof t===s?e:e.substring(0,X)},Be=function(e,t){if(e&&t)for(var i,r,o,n,a,s=0;s<t.length&&!n;){for(var c=t[s],l=t[s+1],u=i=0;u<c.length&&!n&&c[u];)if(n=c[u++].exec(e))for(r=0;r<l.length;r++)a=n[++i],typeof(o=l[r])===K&&0<o.length?2===o.length?typeof o[1]==W?this[o[0]]=o[1].call(this,a):this[o[0]]=o[1]:3===o.length?typeof o[1]!==W||o[1].exec&&o[1].test?this[o[0]]=a?a.replace(o[1],o[2]):void 0:this[o[0]]=a?o[1].call(this,a,o[2]):void 0:4===o.length&&(this[o[0]]=a?o[3].call(this,a.replace(o[1],o[2])):void 0):this[o]=a||void 0;s+=2}},Xe=function(e,t){for(var i in t)if(typeof t[i]===K&&0<t[i].length){for(var r=0;r<t[i].length;r++)if(De(t[i][r],e))return i===V?void 0:i}else if(De(t[i],e))return i===V?void 0:i;return t.hasOwnProperty("*")?t["*"]:e},ze={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Ge={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},Ve={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[f,Ue+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,v],[/opios[\/ ]+([\w\.]+)/i],[v,[f,l+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[v,[f,l+" GX"]],[/\bopr\/([\w\.]+)/i],[v,[f,l]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[v,[f,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[v,[f,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,v],[/quark(?:pc)?\/([-\w\.]+)/i],[v,[f,"Quark"]],[/\bddg\/([\w\.]+)/i],[v,[f,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[f,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[v,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[f,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[v,[f,"Smart Lenovo"+k]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure"+k],v],[/\bfocus\/([\w\.]+)/i],[v,[f,He+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[f,l+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[f,l+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[f,"MIUI"+k]],[/fxios\/([\w\.-]+)/i],[v,[f,Ue+He]],[/\bqihoobrowser\/?([\w\.]*)/i],[v,[f,"360"]],[/\b(qq)\/([\w\.]+)/i],[[f,/(.+)/,"$1Browser"],v],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1"+k],v],[/samsungbrowser\/([\w\.]+)/i],[v,[f,c+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[v,[f,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[f,"Sogou Mobile"],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[f,v],[/(lbbrowser|rekonq)/i],[f],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[v,f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,Ie],v,[w,i]],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,v,[w,i]],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[f,"GSA"],[w,i]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[f,"TikTok"],[w,i]],[/\[(linkedin)app\]/i],[f,[w,i]],[/(chromium)[\/ ]([-\w\.]+)/i],[f,v],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[f,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,"Chrome WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[f,"Android"+k]],[/chrome\/([\w\.]+) mobile/i],[v,[f,Ue+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,v],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[v,[f,Ue+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[f,Ue+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[v,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[v,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[f,v],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[f,Ue+He],v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],v],[/(wolvic|librewolf)\/([\w\.]+)/i],[f,v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[f,He+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[f,[v,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[f,[v,/[^\d\.]+./,G]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[y,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[y,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[y,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[y,/ower/,G,O]],[/ sun4\w[;\)]/i],[[y,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[y,O]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[E,[g,c],[w,o]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[E,[g,c],[w,R]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[E,[g,ge],[w,R]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[E,[g,ge],[w,o]],[/(macintosh);/i],[E,[g,ge]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[E,[g,"Sharp"],[w,R]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[E,[g,"Honor"],[w,o]],[/honor([-\w ]+)[;\)]/i],[E,[g,"Honor"],[w,R]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[E,[g,"Huawei"],[w,o]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[E,[g,"Huawei"],[w,R]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[E,/_/g," "],[g,Ce],[w,o]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[E,/_/g," "],[g,Ce],[w,R]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[E,[g,xe],[w,R]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[E,[g,Xe,{OnePlus:["304","403","203"],"*":xe}],[w,o]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[E,[g,"Vivo"],[w,R]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[E,[g,"Realme"],[w,R]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[E,[g,Re],[w,R]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[E,[g,Re],[w,o]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[E,[g,"LG"],[w,o]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[E,[g,"LG"],[w,R]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[E,[g,"Lenovo"],[w,o]],[/(nokia) (t[12][01])/i],[g,E,[w,o]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[E,/_/g," "],[w,R],[g,"Nokia"]],[/(pixel (c|tablet))\b/i],[E,[g,ye],[w,o]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[E,[g,ye],[w,R]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[E,[g,Oe],[w,R]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[E,"Xperia Tablet"],[g,Oe],[w,o]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[E,[g,ke],[w,R]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[E,[g,we],[w,o]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[E,/(.+)/g,"Fire Phone $1"],[g,we],[w,R]],[/(playbook);[-\w\),; ]+(rim)/i],[E,g,[w,o]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[E,[g,ve],[w,R]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[E,[g,"ASUS"],[w,o]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[E,[g,"ASUS"],[w,R]],[/(nexus 9)/i],[E,[g,"HTC"],[w,o]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[E,/_/g," "],[w,R]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[E,[g,"TCL"],[w,o]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[E,[g,"TCL"],[w,R]],[/(itel) ((\w+))/i],[[g,O],E,[w,Xe,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[E,[g,"Acer"],[w,o]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[E,[g,"Meizu"],[w,R]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[E,[g,"Ulefone"],[w,R]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[E,[g,"Energizer"],[w,R]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[E,[g,"Cat"],[w,R]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[E,[g,"Smartfren"],[w,R]],[/droid.+; (a(?:015|06[35]|142p?))/i],[E,[g,"Nothing"],[w,R]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[g,E,[w,o]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[g,E,[w,R]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[g,E,[w,o]],[/(surface duo)/i],[E,[g,Ee],[w,o]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[E,[g,"Fairphone"],[w,R]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[E,[g,n],[w,o]],[/(sprint) (\w+)/i],[g,E,[w,R]],[/(kin\.[onetw]{3})/i],[[E,/\./g," "],[g,Ee],[w,R]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[E,[g,Ne],[w,o]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[E,[g,Ne],[w,R]],[/smart-tv.+(samsung)/i],[g,[w,e]],[/hbbtv.+maple;(\d+)/i],[[E,/^/,"SmartTV"],[g,c],[w,e]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,"LG"],[w,e]],[/(apple) ?tv/i],[g,[E,ge+" TV"],[w,e]],[/crkey.*devicetype\/chromecast/i],[[E,Se+" Third Generation"],[g,ye],[w,e]],[/crkey.*devicetype\/([^/]*)/i],[[E,/^/,"Chromecast "],[g,ye],[w,e]],[/fuchsia.*crkey/i],[[E,Se+" Nest Hub"],[g,ye],[w,e]],[/crkey/i],[[E,Se],[g,ye],[w,e]],[/droid.+aft(\w+)( bui|\))/i],[E,[g,we],[w,e]],[/(shield \w+ tv)/i],[E,[g,n],[w,e]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[E,[g,"Sharp"],[w,e]],[/(bravia[\w ]+)( bui|\))/i],[E,[g,Oe],[w,e]],[/(mi(tv|box)-?\w+) bui/i],[E,[g,Ce],[w,e]],[/Hbbtv.*(technisat) (.*);/i],[g,E,[w,e]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,qe],[E,qe],[w,e]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[E,[w,e]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[w,e]],[/(ouya)/i,/(nintendo) (\w+)/i],[g,E,[w,Z]],[/droid.+; (shield)( bui|\))/i],[E,[g,n],[w,Z]],[/(playstation \w+)/i],[E,[g,Oe],[w,Z]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[E,[g,Ee],[w,Z]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[E,[g,c],[w,t]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[g,E,[w,t]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[E,[g,xe],[w,t]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[E,[g,ge],[w,t]],[/(opwwe\d{3})/i],[E,[g,ke],[w,t]],[/(moto 360)/i],[E,[g,Re],[w,t]],[/(smartwatch 3)/i],[E,[g,Oe],[w,t]],[/(g watch r)/i],[E,[g,"LG"],[w,t]],[/droid.+; (wt63?0{2,3})\)/i],[E,[g,Ne],[w,t]],[/droid.+; (glass) \d/i],[E,[g,ye],[w,ee]],[/(pico) (4|neo3(?: link|pro)?)/i],[g,E,[w,ee]],[/; (quest( \d| pro)?)/i],[E,[g,Ie],[w,ee]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[w,te]],[/(aeobc)\b/i],[E,[g,we],[w,te]],[/(homepod).+mac os/i],[E,[g,ge],[w,te]],[/windows iot/i],[[w,te]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+?(mobile|vr|\d) safari/i],[E,[w,Xe,{mobile:"Mobile",xr:"VR","*":o}]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[w,o]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[w,R]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[E,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[f,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[f,v],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,v],[/ladybird\//i],[[f,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,v],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[f,[v,Xe,ze]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,Xe,ze],[f,_e]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,"macOS"],[v,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[v,[f,Se+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[v,[f,Se+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[v,[f,Se+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[v,[f,Se+" Linux"]],[/crkey\/([\d\.]+)/i],[v,[f,Se]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,f],[/(ubuntu) ([\w\.]+) like android/i],[[f,/(.+)/,"$1 Touch"],v],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[f,v],[/\(bb(10);/i],[v,[f,ve]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[v,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[f,He+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[f,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,"Chrome OS"],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,v],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,v]]},We=(l={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}},C.call(l.init,[[d,[f,v,Q,w]],[h,[y]],[p,[w,E,g]],[b,[f,v]],[m,[f,v]]]),C.call(l.isIgnore,[[d,[v,Q]],[b,[v]],[m,[v]]]),C.call(l.isIgnoreRgx,[[d,/ ?browser$/i],[m,/ ?os$/i]]),C.call(l.toString,[[d,[f,v]],[h,[y]],[p,[g,E]],[b,[f,v]],[m,[f,v]]]),l),Ke=function(t,e){var i=We.init[e],r=We.isIgnore[e]||0,o=We.isIgnoreRgx[e]||0,n=We.toString[e]||0;function a(){C.call(this,i)}return a.prototype.getItem=function(){return t},a.prototype.withClientHints=function(){return Ae?Ae.getHighEntropyValues(fe).then(function(e){return t.setCH(new Je(e,!1)).parseCH().get()}):t.parseCH().get()},a.prototype.withFeatureCheck=function(){return t.detectFeature().get()},e!=Y&&(a.prototype.is=function(e){var t,i=!1;for(t in this)if(this.hasOwnProperty(t)&&!De(r,t)&&O(o?$e(o,this[t]):this[t])==O(o?$e(o,e):e)){if(i=!0,e!=s)break}else if(e==s&&i){i=!i;break}return i},a.prototype.toString=function(){var e,t=G;for(e in n)typeof this[n[e]]!==s&&(t+=(t?" ":G)+this[n[e]]);return t||s}),Ae||(a.prototype.then=function(e){function t(){for(var e in i)i.hasOwnProperty(e)&&(this[e]=i[e])}var i=this,r=(t.prototype={is:a.prototype.is,toString:a.prototype.toString},new t);return e(r),r}),new a};function Je(e,t){if(e=e||{},C.call(this,fe),t)C.call(this,[[ie,Pe(e[r])],[oe,Pe(e[ce])],[R,/\?1/.test(e[he])],[E,Fe(e[pe])],[ne,Fe(e[be])],[ae,Fe(e[me])],[y,Fe(e[le])],[re,Pe(e[de])],[se,Fe(e[ue])]]);else for(var i in e)this.hasOwnProperty(i)&&typeof e[i]!==s&&(this[i]=e[i])}function Ye(e,t,i,r){return this.get=function(e){return e?this.data.hasOwnProperty(e)?this.data[e]:void 0:this.data},this.set=function(e,t){return this.data[e]=t,this},this.setCH=function(e){return this.uaCH=e,this},this.detectFeature=function(){if(x&&x.userAgent==this.ua)switch(this.itemType){case d:x.brave&&typeof x.brave.isBrave==W&&this.set(f,"Brave");break;case p:!this.get(w)&&Ae&&Ae[R]&&this.set(w,R),"Macintosh"==this.get(E)&&x&&typeof x.standalone!==s&&x.maxTouchPoints&&2<x.maxTouchPoints&&this.set(E,"iPad").set(w,o);break;case m:!this.get(f)&&Ae&&Ae[ne]&&this.set(f,Ae[ne]);break;case Y:var t=this.data,e=function(e){return t[e].getItem().detectFeature().get()};this.set(d,e(d)).set(h,e(h)).set(p,e(p)).set(b,e(b)).set(m,e(m))}return this},this.parseUA=function(){return this.itemType!=Y&&Be.call(this.data,this.ua,this.rgxMap),this.itemType==d&&this.set(Q,Me(this.get(v))),this},this.parseCH=function(){var e,t=this.uaCH,i=this.rgxMap;switch(this.itemType){case d:case b:var r,o=t[oe]||t[ie];if(o)for(var n in o){var a=o[n].brand||o[n],n=o[n].version;this.itemType!=d||/not.a.brand/i.test(a)||r&&(!/chrom/i.test(r)||a==Te)||(a=Xe(a,{Chrome:"Google Chrome",Edge:"Microsoft Edge","Chrome WebView":"Android WebView","Chrome Headless":"HeadlessChrome"}),this.set(f,a).set(v,n).set(Q,Me(n)),r=a),this.itemType==b&&a==Te&&this.set(v,n)}break;case h:var s=t[y];s&&("64"==t[se]&&(s+="64"),Be.call(this.data,s+";",i));break;case p:if(t[R]&&this.set(w,R),t[E]&&(this.set(E,t[E]),this.get(w)&&this.get(g)||(Be.call(s={},"droid 9; "+t[E]+")",i),!this.get(w)&&s.type&&this.set(w,s.type),!this.get(g)&&s.vendor&&this.set(g,s.vendor))),t[re]){if("string"!=typeof t[re])for(var c=0;!e&&c<t[re].length;)e=Xe(t[re][c++],Ge);else e=Xe(t[re],Ge);this.set(w,e)}break;case m:var l,s=t[ne];s&&(l=t[ae],s==_e&&(l=13<=parseInt(Me(l),10)?"11":"10"),this.set(f,s).set(v,l)),this.get(f)==_e&&"Xbox"==t[E]&&this.set(f,"Xbox").set(v,void 0);break;case Y:var u=this.data,s=function(e){return u[e].getItem().setCH(t).parseCH().get()};this.set(d,s(d)).set(h,s(h)).set(p,s(p)).set(b,s(b)).set(m,s(m))}return this},C.call(this,[["itemType",e],["ua",t],["uaCH",r],["rgxMap",i],["data",Ke(this,e)]]),this}function N(e,t,i){var r,o,n,a,s;return typeof e===K?(t=je(e,!0)?(typeof t===K&&(i=t),e):void(i=e),e=void 0):typeof e!==J||je(t,!0)||(i=t,t=void 0),i&&typeof i.append===W&&(r={},i.forEach(function(e,t){r[t]=e}),i=r),this instanceof N?(o=typeof e===J?e:i&&i[z]?i[z]:x&&x.userAgent?x.userAgent:G,n=new Je(i,!0),a=t?((e,t)=>{var i,r={},o=t;if(!je(t))for(var n in o={},t)for(var a in t[n])o[a]=t[n][a].concat(o[a]||[]);for(i in e)r[i]=o[i]&&o[i].length%2==0?o[i].concat(e[i]):e[i];return r})(Ve,t):Ve,C.call(this,[["getBrowser",(s=function(e){return e==Y?function(){return new Ye(e,o,a,n).set("ua",o).set(d,this.getBrowser()).set(h,this.getCPU()).set(p,this.getDevice()).set(b,this.getEngine()).set(m,this.getOS()).get()}:function(){return new Ye(e,o,a[e],n).parseUA().get()}})(d)],["getCPU",s(h)],["getDevice",s(p)],["getEngine",s(b)],["getOS",s(m)],["getResult",s(Y)],["getUA",function(){return o}],["setUA",function(e){return Le(e)&&(o=e.length>X?qe(e,X):e),this}]]).setUA(o),this):new N(e,t,i).getResult()}N.VERSION="2.0.2",N.BROWSER=B([f,v,Q,w]),N.CPU=B([y]),N.DEVICE=B([E,g,w,Z,R,e,o,t,te]),N.ENGINE=N.OS=B([f,v]);let T=window,S=(T.__webMonitor__={},T.__webMonitor__);var H,Qe,I,Ze,et,tt,it,i=(new N).getResult();S.deviceInfo={browserVersion:i.browser.version,browserName:i.browser.name,osVersion:i.os.version,osName:i.os.name,ua:i.ua,device:i.device.model||"Unkown",deviceType:i.device.type||"Pc",deviceVendor:i.device.vendor||"Unkown"},S.hasError=!1,S.errorMap=new Map,S.replaceFlag=S.replaceFlag||{};let rt=S.replaceFlag;function U(e,t){rt[e]||(rt[e]=t)}(k=H=H||{}).XHR="xhr",k.FETCH="fetch",k.CLICK="click",k.HISTORY="history",k.ERROR="error",k.HASHCHANGE="hashchange",k.RESOURCE="resource",k.UNHANDLEDREJECTION="unhandledrejection",k.DOM="dom",k.VUE="vue",k.CUSTOM="custom",k.PERFORMANCE="performance",k.RECORDSCREEN="recordScreen",k.WHITESCREEN="whiteScreen",(Ue=Qe=Qe||{}).XHR="xhr",Ue.FETCH="fetch",(Ce=I=I||{}).ERROR="error",(n=Ze=Ze||{}).Ok=Ce.OK="ok",n.DeadlineExceeded="deadline_exceeded",n.Unauthenticated="unauthenticated",n.PermissionDenied="permission_denied",n.NotFound="not_found",n.ResourceExhausted="resource_exhausted",n.InvalidArgument="invalid_argument",n.Unimplemented="unimplemented",n.Unavailable="unavailable",n.InternalError="internal_error",n.UnknownError="unknown_error",n.Cancelled="cancelled",n.AlreadyExists="already_exists",n.FailedPrecondition="failed_precondition",n.Aborted="aborted",n.OutOfRange="out_of_range",n.DataLoss="data_loss",(Ee=et=et||{})[Ee.BAD_REQUEST=400]="BAD_REQUEST",Ee[Ee.UNAUTHORIZED=401]="UNAUTHORIZED",(c=tt=tt||{}).HTTP="Http",c.CLICK="Click",c.RESOURCE="Resource_Error",c.CODEERROR="Code_Error",c.ROUTE="Route",c.CUSTOM="Custom",(xe=it=it||{}).Get="GET",xe.Post="POST",xe.Put="PUT",xe.Delete="DELETE";let ot="1.0.2";function nt(e){var t;return(e=e&&e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/))?(t=e[6]||"",{host:e[4],path:e[5],protocol:e[2],relative:e[5]+t+(e[8]||"")}):{}}function at(e){return window.btoa(encodeURIComponent(e))}function st(e){var t=S.errorMap.has(e);return t||S.errorMap.set(e,!0),t}let _=S.breadcrumb||(S.breadcrumb=new class{constructor(){this.maxBreadcrumbs=20,this.stack=[],this.stack=[]}bindOptions(e){var{maxBreadcrumbs:e,boforePushBreadcrumb:t}=e;a(e,"maxBreadcrumbs","number")&&(this.maxBreadcrumbs=e||20),a(t,"boforePushBreadcrumb","function")&&(this.boforePushBreadcrumb=t)}getCategory(e){switch(e){case H.ERROR:case H.UNHANDLEDREJECTION:return tt.CODEERROR;case H.CLICK:return tt.CLICK;case H.RESOURCE:return tt.RESOURCE;case H.XHR:case H.FETCH:return tt.HTTP;case H.HASHCHANGE:case H.HISTORY:return tt.ROUTE}}push(e){var t;if("function"==typeof this.boforePushBreadcrumb)return(t=this.boforePushBreadcrumb(e))?void this.immediatePush(t):void 0;this.immediatePush(e)}immediatePush(e){e.time||(e.time=u()),this.stack.length>=this.maxBreadcrumbs&&this.shift(),this.stack.push(e),this.stack.sort((e,t)=>e.time-t.time)}shift(){return void 0!==this.stack.shift()}getStack(){return this.stack}clear(){this.stack=[]}});let A=S.transportData||(S.transportData=new class{constructor(){this.userId="",this.apikey="",this.errorDsn="",this.uuid="1234567890"}beacon(e,t){return navigator.sendBeacon(e,JSON.stringify(t))}getAuthId(){var e;return"function"==typeof this.getUserId?"string"==typeof(e=this.getUserId())?e:j("getUserId must return string"):""}getAuthInfo(){return{userId:this.userId||this.getAuthId(),apikey:this.apikey,sdkVersion:ot}}getTransportData(e){var t=Object.assign(Object.assign(Object.assign({},e),this.getAuthInfo()),{pageUrl:M(),deviceInfo:S.deviceInfo});return[H.PERFORMANCE,H.RECORDSCREEN,H.WHITESCREEN].includes(e.type)||(t.breadcrumb=_.getStack()),t}isSdkTransportUrl(e){let t=!1;return t=this.errorDsn&&-1!==e.indexOf(this.errorDsn)?!0:t}beforePost(e){let t=this.getTransportData(e);return!("function"==typeof this.beforeDataReport&&!(t=this.beforeDataReport(t)))&&t}bindOptions(e){var{dsn:t,userId:i,apikey:r,getUserId:o,beforeDataReport:n}=e;a(t,"dsn","string")&&(this.errorDsn=e.dsn),a(i,"userId","string")&&(this.userId=i||""),a(r,"apikey","string")&&(this.apikey=r||""),a(o,"getUserId","function")&&(this.getUserId=o),a(n,"beforeDataReport","function")&&(this.beforeDataReport=n)}xhrPost(e,t){fetch(""+t,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}send(e){var t=this.errorDsn,e=(S.options.silentRecordScreen&&D.recordScreenTypeList.includes(e.type)&&(S.hasError=!0,e.recordScreenId=S.recordScreenId),this.beforePost(e));return!e||this.beacon(t,e)?void 0:this.xhrPost(e,t)}});let D=S.options=S.options||new class{constructor(){this.overTime=10,this.throttleDelayTime=0,this.whiteBoxElements=[],this.skeletonProject=!1,this.repeatCodeError=!0}bindOptions(e){var{overTime:e,throttleDelayTime:t,skeletonProject:i,repeatCodeError:r,filterXhrUrlRegExp:o,whiteBoxElements:n=["html","body","#app","#root"]}=e;a(e,"overTime","number")&&(this.overTime=e||0),a(this.throttleDelayTime,"throttleDelayTime","number")&&(this.throttleDelayTime=t||0),a(n,"whiteBoxElements","array")&&(this.whiteBoxElements=n||[]),a(i,"skeletonProject","boolean")&&(this.skeletonProject=i||!1),a(r,"repeatCodeError","boolean")&&(this.repeatCodeError=r||!0),a(o,"filterXhrUrlRegExp","regexp")&&(this.filterXhrUrlRegExp=o||null)}};function ct(e){var t,i,r,o,n,a,s,c;[{slientError:t=!0,slientClick:i=!0,slientFetch:r=!0,slientXhr:o=!0,slientUnhanderRejection:n=!0,slientHashChange:a=!0,slientHistoryChange:s=!0,silentWhiteScreen:c=!0}]=[e],U(H.CLICK,!i),U(H.ERROR,!t),U(H.FETCH,!r),U(H.XHR,!o),U(H.UNHANDLEDREJECTION,!n),U(H.HASHCHANGE,!a),U(H.HISTORY,!s),U(H.WHITESCREEN,!c),_.bindOptions(e),A.bindOptions(e),D.bindOptions(e)}function lt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ut,ke={exports:{}},dt={exports:{}};dt.exports;function ht(){return ut||(ut=1,dt.exports=(()=>{function i(e){return e.charAt(0).toUpperCase()+e.substring(1)}function e(e){return function(){return this[e]}}var t=["isConstructor","isEval","isNative","isToplevel"],r=["columnNumber","lineNumber"],o=["fileName","functionName","source"],n=t.concat(r,o,["args"],["evalOrigin"]);function s(e){if(e)for(var t=0;t<n.length;t++)void 0!==e[n[t]]&&this["set"+i(n[t])](e[n[t]])}s.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof s)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new s(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",i=this.getColumnNumber()||"",r=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+i+")":"[eval]:"+t+":"+i:r?r+" ("+e+":"+t+":"+i+")":e+":"+t+":"+i}},s.fromString=function(e){var t,i,r,o=e.indexOf("("),n=e.lastIndexOf(")"),a=e.substring(0,o),o=e.substring(o+1,n).split(","),e=e.substring(n+1);return 0===e.indexOf("@")&&(t=(n=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e,""))[1],i=n[2],r=n[3]),new s({functionName:a,args:o||void 0,fileName:t,lineNumber:i||void 0,columnNumber:r||void 0})};for(var a=0;a<t.length;a++)s.prototype["get"+i(t[a])]=e(t[a]),s.prototype["set"+i(t[a])]=(t=>function(e){this[t]=Boolean(e)})(t[a]);for(var c=0;c<r.length;c++)s.prototype["get"+i(r[c])]=e(r[c]),s.prototype["set"+i(r[c])]=(i=>function(e){if(t=e,isNaN(parseFloat(t))||!isFinite(t))throw new TypeError(i+" must be a Number");var t;this[i]=Number(e)})(r[c]);for(var l=0;l<o.length;l++)s.prototype["get"+i(o[l])]=e(o[l]),s.prototype["set"+i(o[l])]=(t=>function(e){this[t]=String(e)})(o[l]);return s})()),dt.exports}var pt;pt||(pt=1,ke.exports=function(c){var r=/(^|@)\S+:\d+/;var o=/^\s*at .*(\S+:\d+|\(native\))/m;var n=/^(eval@)?(\[native code])?$/;return{parse:function e(t){if(typeof t.stacktrace!=="undefined"||typeof t["opera#sourceloc"]!=="undefined")return this.parseOpera(t);else if(t.stack&&t.stack.match(o))return this.parseV8OrIE(t);else if(t.stack)return this.parseFFOrSafari(t);else throw new Error("Cannot parse given Error object")},extractLocation:function e(t){if(t.indexOf(":")===-1)return[t];var i=/(.+?)(?::(\d+))?(?::(\d+))?$/;var r=i.exec(t.replace(/[()]/g,""));return[r[1],r[2]||undefined,r[3]||undefined]},parseV8OrIE:function e(t){var i=t.stack.split("\n").filter(function(e){return!!e.match(o)},this);return i.map(function(e){if(e.indexOf("(eval ")>-1)e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,"");var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,"");var i=t.match(/ (\(.+\)$)/);t=i?t.replace(i[0],""):t;var r=this.extractLocation(i?i[1]:t);var o=i&&t||undefined;var n=["eval","<anonymous>"].indexOf(r[0])>-1?undefined:r[0];return new c({functionName:o,fileName:n,lineNumber:r[1],columnNumber:r[2],source:e})},this)},parseFFOrSafari:function e(t){var i=t.stack.split("\n").filter(function(e){return!e.match(n)},this);return i.map(function(e){if(e.indexOf(" > eval")>-1)e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1");if(e.indexOf("@")===-1&&e.indexOf(":")===-1)return new c({functionName:e});else{var t=/((.*".+"[^@]*)?[^@]*)(?:@)/;var i=e.match(t);var r=i&&i[1]?i[1]:undefined;var o=this.extractLocation(e.replace(t,""));return new c({functionName:r,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:e})}},this)},parseOpera:function e(t){if(!t.stacktrace||t.message.indexOf("\n")>-1&&t.message.split("\n").length>t.stacktrace.split("\n").length)return this.parseOpera9(t);else if(!t.stack)return this.parseOpera10(t);else return this.parseOpera11(t)},parseOpera9:function e(t){var i=/Line (\d+).*script (?:in )?(\S+)/i;var r=t.message.split("\n");var o=[];for(var n=2,a=r.length;n<a;n+=2){var s=i.exec(r[n]);if(s)o.push(new c({fileName:s[2],lineNumber:s[1],source:r[n]}))}return o},parseOpera10:function e(t){var i=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i;var r=t.stacktrace.split("\n");var o=[];for(var n=0,a=r.length;n<a;n+=2){var s=i.exec(r[n]);if(s)o.push(new c({functionName:s[3]||undefined,fileName:s[2],lineNumber:s[1],source:r[n]}))}return o},parseOpera11:function e(t){var i=t.stack.split("\n").filter(function(e){return!!e.match(r)&&!e.match(/^Error created at/)},this);return i.map(function(e){var t=e.split("@");var i=this.extractLocation(t.pop());var r=t.shift()||"";var o=r.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||undefined;var n;if(r.match(/\(([^)]*)\)/))n=r.replace(/^[^(]+\(([^)]*)\)$/,"$1");var a=n===undefined||n==="[arguments not available]"?undefined:n.split(",");return new c({functionName:o,args:a,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:e})},this)}}}(ht()));var bt=lt(ke.exports);let mt={};function ft(e){var t;return e&&(t=e.type,!rt[t])&&(U(e.type,!0),mt[e.type]=mt[e.type]||[],null!=(t=mt[e.type])&&t.push(e.callback),1)}function wt(e,t){e&&mt[e]&&null!=(e=mt[e])&&e.forEach(e=>{try{e(t)}catch(e){console.log("webmonitor notify error",e)}})}function gt(e){switch(e){case H.ERROR:$(T,"error",e=>{wt(H.ERROR,e)},!0);break;case H.UNHANDLEDREJECTION:$(T,H.UNHANDLEDREJECTION,e=>{wt(H.UNHANDLEDREJECTION,e)});break;case H.XHR:"XMLHttpRequest"in T&&(F(XMLHttpRequest.prototype,"open",t=>function(...e){this.webmonitor_xhr={method:P.isString(e[0])?e[0].toUpperCase():e[0],url:e[1],sTime:u(),type:Qe.XHR},t.apply(this,e)},!0),F(XMLHttpRequest.prototype,"send",t=>function(...e){let{method:i,url:r}=this.webmonitor_xhr;$(this,"loadend",function(){var e,t;i===it.Post||A.isSdkTransportUrl(r)||(e=r,D.filterXhrUrlRegExp&&D.filterXhrUrlRegExp.test(e))||(e=this.status,t=u(),this.webmonitor_xhr.time=this.webmonitor_xhr.sTime,this.webmonitor_xhr.Status=e,this.webmonitor_xhr.elapsedTime=t-this.webmonitor_xhr.sTime,wt(H.XHR,this.webmonitor_xhr))}),t.apply(this,e)}));break;case H.CLICK:if("document"in T){let e=((t,i)=>{let r=null;return function(...e){r=r||setTimeout(()=>{t.apply(this,e),r=null},i)}})(wt,D.throttleDelayTime);$(T.document,"click",function(){e(H.CLICK,this)},!0)}break;case H.HASHCHANGE:"onhashchange"in T&&$(T,"hashchange",function(e){wt(H.HASHCHANGE,e)});break;case H.HISTORY:(()=>{var e=(e=T.chrome)&&e.app&&e.app.runtime,t="history"in T&&!!T.history.pushState&&!!T.history.replaceState;return!e&&t})()&&(T.onpopstate=function(...e){console.log("aaa",e)},F(T.history,"pushState",t),F(T.history,"replaceState",t));break;case H.WHITESCREEN:wt(H.WHITESCREEN)}function t(r){return function(...e){var t,i=2<e.length?e[2]:void 0;return i&&(t=yt,i=i,yt=i,wt(H.HISTORY,{from:t,to:i})),r.apply(this,e)}}}function vt(e){ft(e)&&gt(e.type)}let yt=M();function Et(e){var{Status:t=200,time:i,elapsedTime:r=0}=e;let o=I.OK,n="";return 0===t?(o=I.ERROR,n=r>S.options.overTime?"请求超时":"请求失败, 状态为"+t):t<et.BAD_REQUEST?o=I.OK:(o=I.ERROR,n=`http请求失败, Status值为${t}, `+(t<200?Ze.Ok:Ze.Aborted)),n=e.url+", "+n,{url:e.url,status:o,message:n,time:i}}function Rt(e){return{time:u(),name:e.localName||"",message:(e=e.src||e.href||"",t=120,(P.isString(e)?e.slice(0,t)+(e.length>t?"...":""):"")+", 资源加载失败")};var t}let kt={handleError(e){var t,i,r,o,n=e.target;n&&n.localName||({columnNumber:t,lineNumber:i,fileName:o}=bt.parse(n?e.error:e)[0],r={type:H.ERROR,status:I.ERROR,message:e.message,time:u(),fileName:o,line:i,col:t},_.push({type:H.ERROR,data:r,category:_.getCategory(H.ERROR),time:u(),status:I.ERROR}),e=at(`${H.ERROR}-${e.message}-${o}-${i}-`+t),D.repeatCodeError&&(D.repeatCodeError,st(e)))||A.send(r),null!=n&&n.localName&&(o=Rt(n),_.push({type:H.ERROR,data:o,category:_.getCategory(H.RESOURCE),time:u(),status:I.ERROR}),A.send(Object.assign(Object.assign({},o),{type:H.RESOURCE,status:I.ERROR})))},handleUnhandledrejection(e){var t,i,r,o;e.reason&&({lineNumber:t,columnNumber:i,fileName:r}=bt.parse(e.reason)[0],e=e.reason.message||e.reason.stack,o={type:H.UNHANDLEDREJECTION,status:I.ERROR,time:u(),fileName:r,message:e,line:t,col:i},_.push({type:H.UNHANDLEDREJECTION,data:o,category:_.getCategory(H.UNHANDLEDREJECTION),time:u(),status:I.ERROR}),e=at(H.UNHANDLEDREJECTION+`-${e}-${r}-${t}-`+i),D.repeatCodeError&&(D.repeatCodeError,st(e))||A.send(o),A.send(o))},handleHttp(e){e=Et(e);e.url.includes(D.dsn)||_.push({type:H.XHR,data:e,category:_.getCategory(H.XHR),time:u(),status:e.status}),e.status===I.ERROR&&A.send(e)},handleClick(e){e=e.activeElement;var t,i="body"===(t=e.tagName.toLowerCase())?"":(i=e.classList.value,`<${t}${e.id?` id="${e.id}"`:""}${i=i?` class="${i}"`:""}>${e.innerText}</${t}>`);i&&_.push({type:H.CLICK,status:I.OK,time:u(),data:i,category:_.getCategory(H.CLICK)})},handleHashChange(e){var{oldURL:e,newURL:t}=e,t=nt(t).relative,e=nt(e).relative;t!==e&&_.push({type:H.HASHCHANGE,status:I.OK,time:u(),data:{from:e,to:t},category:_.getCategory(H.HASHCHANGE)})},handleHistory(e){var{from:e,to:t}=e,t=nt(t).relative,e=nt(e).relative;t!==e&&_.push({type:H.HISTORY,status:I.OK,time:u(),data:{from:e||"/",to:t||"/"},category:_.getCategory(H.HISTORY)})},handleWhiteScreen(){{var[e,{skeletonProject:s,whiteBoxElements:t}]=[e=>{A.send(Object.assign({type:H.WHITESCREEN,time:u()},e||{}))},D];let o=0,n=[],a=[];function c(e){e=(e=e).id?"#"+e.id:e.className?"."+e.className:e.nodeName.toLowerCase();return s&&(o?a:n).push(e),t.includes(e)}function i(){let t=0;for(let e=1;e<=9;e++){var i=document.elementsFromPoint(T.innerWidth*e/10,T.innerHeight/2),r=document.elementsFromPoint(T.innerWidth/2,T.innerHeight*e/10);c(i[0])&&t++,5!==e&&c(r[0])&&t++}if(17!==t){if(s){if(!o)return l();if(n.join("")==a.join(""))return e({status:I.ERROR})}S._loopTimer&&(clearInterval(S._loopTimer),S._loopTimer=null)}else{if(S._loopTimer)return;l()}e({status:17===t?I.ERROR:I.OK})}function l(){S._loopTimer||(S._loopTimer=setInterval(()=>{s&&(o++,a=[]),r()},1e3))}function r(){"requestIdleCallback"in T?requestIdleCallback(e=>{0<e.timeRemaining()&&i()}):i()}s?"complete"!==document.readyState&&r():"complete"===document.readyState?r():T.addEventListener("load",r)}}};function xt(e){if(!e.dsn)return console.error("请配置dsn");"fetch"in T&&!e.disabled&&(ct(e),vt({type:H.ERROR,callback:e=>{console.log("js error 捕获到了",e),kt.handleError(e)}}),vt({type:H.UNHANDLEDREJECTION,callback:e=>{console.log("promise error 捕获到了",e),kt.handleUnhandledrejection(e)}}),vt({type:H.XHR,callback:e=>{kt.handleHttp(e)}}),vt({type:H.CLICK,callback:e=>{kt.handleClick(e)}}),vt({type:H.HASHCHANGE,callback:e=>{kt.handleHashChange(e)}}),vt({type:H.HISTORY,callback:e=>{kt.handleHistory(e)}}),vt({type:H.WHITESCREEN,callback:()=>{kt.handleWhiteScreen()}}))}return{install:function(e,t){let r=e.config.errorHandler;e.config.errorHandler=function(e,t,i){kt.handleError(e),r&&r.apply(null,[e,t,i])},xt(t)},use:function(e,t){new e(t).core({transportData:A,breadcrumb:_,options:D})},log:function({message:t="customMsg",error:i,type:r=H.CUSTOM}){try{let e={};var o;["[object Error]","[object Exception]","[object DOMException]"].includes(Object.prototype.toString.call(i))&&(o=bt.parse(i.target?i.error||i.reason:i)[0],e=Object.assign(Object.assign({},o),{line:o.lineNumber,column:o.columnNumber})),_.push({type:r,status:I.ERROR,category:_.getCategory(r),time:u(),data:q(t)}),A.send(Object.assign({type:r,status:I.ERROR,message:q(t),time:u()},e))}catch(i){console.log(i)}}}});
//# sourceMappingURL=index.min.js.map
