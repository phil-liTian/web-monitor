((e,t)=>{"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self)["web-see"]=t()})(this,function(){function x(e,t,r){return e&&(Object.prototype.toString.call(e).slice(8,-1).toLowerCase()===r||(e=t+` 必须是 ${r} 类型`,void console.error("webmonitor error: "+e)))}function R(){let r=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(r+16*Math.random())%16|0;return r=Math.floor(r/16),("x"==e?t:3&t|8).toString(16)})}function E(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t}var T=500,M="user-agent",O="",F="?",D="function",z="undefined",L="object",U="string",h="browser",B="cpu",W="device",J="engine",u="os",q="result",p="name",m="type",g="vendor",f="version",b="architecture",Q="major",w="model",X="console",y="mobile",a="tablet",e="smarttv",$="wearable",ee="xr",te="embedded",t="inapp",re="brands",ie="formFactors",ae="fullVersionList",ne="platform",oe="platformVersion",se="bitness",le="sec-ch-ua",de=le+"-full-version-list",ce=le+"-arch",he=le+"-"+se,ue=le+"-form-factors",pe=le+"-"+y,me=le+"-"+w,ge=le+"-"+ne,fe=ge+"-version",be=[re,ae,y,w,ne,oe,b,ie,se],we="Amazon",ye="Apple",ve="BlackBerry",Ie="Google",_e="Microsoft",Ce="Motorola",ke="Nvidia",Se="OnePlus",Ae="OPPO",xe="Samsung",r="Sony",i="Xiaomi",Re="Zebra",Ee="Chromium",Te="Chromecast",Me="Firefox",n="Opera",Ne="Facebook",Oe="Mobile ",o=" Browser",Fe="Windows",l=typeof window!==z&&window.navigator?window.navigator:void 0,De=l&&l.userAgentData?l.userAgentData:void 0,ze=function(e,t){if(typeof e===L&&0<e.length){for(var r in e)if(Be(e[r])==Be(t))return!0;return!1}return!!Ue(e)&&-1!==Be(t).indexOf(Be(e))},Le=function(e,t){for(var r in e)return/^(browser|cpu|device|engine|os)$/.test(r)||!!t&&Le(e[r])},Ue=function(e){return typeof e===U},Ze=function(e){if(e){for(var t,r=[],i=Ve(/\\?\"/g,e).split(","),a=0;a<i.length;a++)-1<i[a].indexOf(";")?(t=He(i[a]).split(";v="),r[a]={brand:t[0],version:t[1]}):r[a]=He(i[a]);return r}},Be=function(e){return Ue(e)?e.toLowerCase():e},We=function(e){return Ue(e)?Ve(/[^\d\.]/g,e).split(".")[0]:void 0},Ge=function(e){for(var t in e){t=e[t];typeof t==L&&2==t.length?this[t[0]]=t[1]:this[t]=void 0}return this},Ve=function(e,t){return Ue(t)?t.replace(e,O):t},Ke=function(e){return Ve(/\\?\"/g,e)},He=function(e,t){if(Ue(e))return e=Ve(/^\s\s*/,e),typeof t===z?e:e.substring(0,T)},Ye=function(e,t){if(e&&t)for(var r,i,a,n,o,s=0;s<t.length&&!n;){for(var l=t[s],d=t[s+1],c=r=0;c<l.length&&!n&&l[c];)if(n=l[c++].exec(e))for(i=0;i<d.length;i++)o=n[++r],typeof(a=d[i])===L&&0<a.length?2===a.length?typeof a[1]==D?this[a[0]]=a[1].call(this,o):this[a[0]]=a[1]:3===a.length?typeof a[1]!==D||a[1].exec&&a[1].test?this[a[0]]=o?o.replace(a[1],a[2]):void 0:this[a[0]]=o?a[1].call(this,o,a[2]):void 0:4===a.length&&(this[a[0]]=o?a[3].call(this,o.replace(a[1],a[2])):void 0):this[a]=o||void 0;s+=2}},je=function(e,t){for(var r in t)if(typeof t[r]===L&&0<t[r].length){for(var i=0;i<t[r].length;i++)if(ze(t[r][i],e))return r===F?void 0:r}else if(ze(t[r],e))return r===F?void 0:r;return t.hasOwnProperty("*")?t["*"]:e},Pe={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Je={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},qe={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[p,Oe+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,f],[/opios[\/ ]+([\w\.]+)/i],[f,[p,n+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[f,[p,n+" GX"]],[/\bopr\/([\w\.]+)/i],[f,[p,n]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[f,[p,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[f,[p,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,f],[/quark(?:pc)?\/([-\w\.]+)/i],[f,[p,"Quark"]],[/\bddg\/([\w\.]+)/i],[f,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[p,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[f,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[f,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[f,[p,"Smart Lenovo"+o]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure"+o],f],[/\bfocus\/([\w\.]+)/i],[f,[p,Me+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[p,n+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[p,n+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[p,"MIUI"+o]],[/fxios\/([\w\.-]+)/i],[f,[p,Oe+Me]],[/\bqihoobrowser\/?([\w\.]*)/i],[f,[p,"360"]],[/\b(qq)\/([\w\.]+)/i],[[p,/(.+)/,"$1Browser"],f],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1"+o],f],[/samsungbrowser\/([\w\.]+)/i],[f,[p,xe+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[f,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[p,f],[/(lbbrowser|rekonq)/i],[p],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[f,p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,Ne],f,[m,t]],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,f,[m,t]],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[p,"GSA"],[m,t]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[f,[p,"TikTok"],[m,t]],[/\[(linkedin)app\]/i],[p,[m,t]],[/(chromium)[\/ ]([-\w\.]+)/i],[p,f],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[p,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,"Chrome WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[p,"Android"+o]],[/chrome\/([\w\.]+) mobile/i],[f,[p,Oe+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,f],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[f,[p,Oe+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[p,Oe+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[f,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[f,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[p,f],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[p,Oe+Me],f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],f],[/(wolvic|librewolf)\/([\w\.]+)/i],[p,f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[p,Me+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[p,[f,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[p,[f,/[^\d\.]+./,O]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[b,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[b,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[b,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[b,/ower/,O,Be]],[/ sun4\w[;\)]/i],[[b,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[b,Be]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[w,[g,xe],[m,a]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[w,[g,xe],[m,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[w,[g,ye],[m,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[w,[g,ye],[m,a]],[/(macintosh);/i],[w,[g,ye]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[w,[g,"Sharp"],[m,y]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[w,[g,"Honor"],[m,a]],[/honor([-\w ]+)[;\)]/i],[w,[g,"Honor"],[m,y]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[w,[g,"Huawei"],[m,a]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[w,[g,"Huawei"],[m,y]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[w,/_/g," "],[g,i],[m,a]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[w,/_/g," "],[g,i],[m,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[w,[g,Ae],[m,y]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[w,[g,je,{OnePlus:["304","403","203"],"*":Ae}],[m,a]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[w,[g,"Vivo"],[m,y]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[w,[g,"Realme"],[m,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[w,[g,Ce],[m,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[w,[g,Ce],[m,a]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[w,[g,"LG"],[m,a]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[w,[g,"LG"],[m,y]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[w,[g,"Lenovo"],[m,a]],[/(nokia) (t[12][01])/i],[g,w,[m,a]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[w,/_/g," "],[m,y],[g,"Nokia"]],[/(pixel (c|tablet))\b/i],[w,[g,Ie],[m,a]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[w,[g,Ie],[m,y]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[w,[g,r],[m,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[w,"Xperia Tablet"],[g,r],[m,a]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[w,[g,Se],[m,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[w,[g,we],[m,a]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[w,/(.+)/g,"Fire Phone $1"],[g,we],[m,y]],[/(playbook);[-\w\),; ]+(rim)/i],[w,g,[m,a]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[w,[g,ve],[m,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[w,[g,"ASUS"],[m,a]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[w,[g,"ASUS"],[m,y]],[/(nexus 9)/i],[w,[g,"HTC"],[m,a]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[w,/_/g," "],[m,y]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[w,[g,"TCL"],[m,a]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[w,[g,"TCL"],[m,y]],[/(itel) ((\w+))/i],[[g,Be],w,[m,je,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[w,[g,"Acer"],[m,a]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[w,[g,"Meizu"],[m,y]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[w,[g,"Ulefone"],[m,y]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[w,[g,"Energizer"],[m,y]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[w,[g,"Cat"],[m,y]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[w,[g,"Smartfren"],[m,y]],[/droid.+; (a(?:015|06[35]|142p?))/i],[w,[g,"Nothing"],[m,y]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[g,w,[m,a]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[g,w,[m,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[g,w,[m,a]],[/(surface duo)/i],[w,[g,_e],[m,a]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[w,[g,"Fairphone"],[m,y]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[w,[g,ke],[m,a]],[/(sprint) (\w+)/i],[g,w,[m,y]],[/(kin\.[onetw]{3})/i],[[w,/\./g," "],[g,_e],[m,y]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[w,[g,Re],[m,a]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[w,[g,Re],[m,y]],[/smart-tv.+(samsung)/i],[g,[m,e]],[/hbbtv.+maple;(\d+)/i],[[w,/^/,"SmartTV"],[g,xe],[m,e]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,"LG"],[m,e]],[/(apple) ?tv/i],[g,[w,ye+" TV"],[m,e]],[/crkey.*devicetype\/chromecast/i],[[w,Te+" Third Generation"],[g,Ie],[m,e]],[/crkey.*devicetype\/([^/]*)/i],[[w,/^/,"Chromecast "],[g,Ie],[m,e]],[/fuchsia.*crkey/i],[[w,Te+" Nest Hub"],[g,Ie],[m,e]],[/crkey/i],[[w,Te],[g,Ie],[m,e]],[/droid.+aft(\w+)( bui|\))/i],[w,[g,we],[m,e]],[/(shield \w+ tv)/i],[w,[g,ke],[m,e]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[w,[g,"Sharp"],[m,e]],[/(bravia[\w ]+)( bui|\))/i],[w,[g,r],[m,e]],[/(mi(tv|box)-?\w+) bui/i],[w,[g,i],[m,e]],[/Hbbtv.*(technisat) (.*);/i],[g,w,[m,e]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,He],[w,He],[m,e]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[w,[m,e]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,e]],[/(ouya)/i,/(nintendo) (\w+)/i],[g,w,[m,X]],[/droid.+; (shield)( bui|\))/i],[w,[g,ke],[m,X]],[/(playstation \w+)/i],[w,[g,r],[m,X]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[w,[g,_e],[m,X]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[w,[g,xe],[m,$]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[g,w,[m,$]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[w,[g,Ae],[m,$]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[w,[g,ye],[m,$]],[/(opwwe\d{3})/i],[w,[g,Se],[m,$]],[/(moto 360)/i],[w,[g,Ce],[m,$]],[/(smartwatch 3)/i],[w,[g,r],[m,$]],[/(g watch r)/i],[w,[g,"LG"],[m,$]],[/droid.+; (wt63?0{2,3})\)/i],[w,[g,Re],[m,$]],[/droid.+; (glass) \d/i],[w,[g,Ie],[m,ee]],[/(pico) (4|neo3(?: link|pro)?)/i],[g,w,[m,ee]],[/; (quest( \d| pro)?)/i],[w,[g,Ne],[m,ee]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[m,te]],[/(aeobc)\b/i],[w,[g,we],[m,te]],[/(homepod).+mac os/i],[w,[g,ye],[m,te]],[/windows iot/i],[[m,te]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+?(mobile|vr|\d) safari/i],[w,[m,je,{mobile:"Mobile",xr:"VR","*":a}]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,a]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,y]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[w,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[p,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[p,f],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,f],[/ladybird\//i],[[p,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,f],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[p,[f,je,Pe]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,je,Pe],[p,Fe]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,"macOS"],[f,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[f,[p,Te+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[f,[p,Te+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[f,[p,Te+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[f,[p,Te+" Linux"]],[/crkey\/([\d\.]+)/i],[f,[p,Te]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,p],[/(ubuntu) ([\w\.]+) like android/i],[[p,/(.+)/,"$1 Touch"],f],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[p,f],[/\(bb(10);/i],[f,[p,ve]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[f,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[p,Me+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[f,[p,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,"Chrome OS"],f],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,f],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,f]]},Qe=(n={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}},Ge.call(n.init,[[h,[p,f,Q,m]],[B,[b]],[W,[m,w,g]],[J,[p,f]],[u,[p,f]]]),Ge.call(n.isIgnore,[[h,[f,Q]],[J,[f]],[u,[f]]]),Ge.call(n.isIgnoreRgx,[[h,/ ?browser$/i],[u,/ ?os$/i]]),Ge.call(n.toString,[[h,[p,f]],[B,[b]],[W,[g,w]],[J,[p,f]],[u,[p,f]]]),n),Xe=function(t,e){var r=Qe.init[e],i=Qe.isIgnore[e]||0,a=Qe.isIgnoreRgx[e]||0,n=Qe.toString[e]||0;function o(){Ge.call(this,r)}return o.prototype.getItem=function(){return t},o.prototype.withClientHints=function(){return De?De.getHighEntropyValues(be).then(function(e){return t.setCH(new $e(e,!1)).parseCH().get()}):t.parseCH().get()},o.prototype.withFeatureCheck=function(){return t.detectFeature().get()},e!=q&&(o.prototype.is=function(e){var t,r=!1;for(t in this)if(this.hasOwnProperty(t)&&!ze(i,t)&&Be(a?Ve(a,this[t]):this[t])==Be(a?Ve(a,e):e)){if(r=!0,e!=z)break}else if(e==z&&r){r=!r;break}return r},o.prototype.toString=function(){var e,t=O;for(e in n)typeof this[n[e]]!==z&&(t+=(t?" ":O)+this[n[e]]);return t||z}),De||(o.prototype.then=function(e){function t(){for(var e in r)r.hasOwnProperty(e)&&(this[e]=r[e])}var r=this,i=(t.prototype={is:o.prototype.is,toString:o.prototype.toString},new t);return e(i),i}),new o};function $e(e,t){if(e=e||{},Ge.call(this,be),t)Ge.call(this,[[re,Ze(e[le])],[ae,Ze(e[de])],[y,/\?1/.test(e[pe])],[w,Ke(e[me])],[ne,Ke(e[ge])],[oe,Ke(e[fe])],[b,Ke(e[ce])],[ie,Ze(e[ue])],[se,Ke(e[he])]]);else for(var r in e)this.hasOwnProperty(r)&&typeof e[r]!==z&&(this[r]=e[r])}function et(e,t,r,i){return this.get=function(e){return e?this.data.hasOwnProperty(e)?this.data[e]:void 0:this.data},this.set=function(e,t){return this.data[e]=t,this},this.setCH=function(e){return this.uaCH=e,this},this.detectFeature=function(){if(l&&l.userAgent==this.ua)switch(this.itemType){case h:l.brave&&typeof l.brave.isBrave==D&&this.set(p,"Brave");break;case W:!this.get(m)&&De&&De[y]&&this.set(m,y),"Macintosh"==this.get(w)&&l&&typeof l.standalone!==z&&l.maxTouchPoints&&2<l.maxTouchPoints&&this.set(w,"iPad").set(m,a);break;case u:!this.get(p)&&De&&De[ne]&&this.set(p,De[ne]);break;case q:var t=this.data,e=function(e){return t[e].getItem().detectFeature().get()};this.set(h,e(h)).set(B,e(B)).set(W,e(W)).set(J,e(J)).set(u,e(u))}return this},this.parseUA=function(){return this.itemType!=q&&Ye.call(this.data,this.ua,this.rgxMap),this.itemType==h&&this.set(Q,We(this.get(f))),this},this.parseCH=function(){var e,t=this.uaCH,r=this.rgxMap;switch(this.itemType){case h:case J:var i,a=t[ae]||t[re];if(a)for(var n in a){var o=a[n].brand||a[n],n=a[n].version;this.itemType!=h||/not.a.brand/i.test(o)||i&&(!/chrom/i.test(i)||o==Ee)||(o=je(o,{Chrome:"Google Chrome",Edge:"Microsoft Edge","Chrome WebView":"Android WebView","Chrome Headless":"HeadlessChrome"}),this.set(p,o).set(f,n).set(Q,We(n)),i=o),this.itemType==J&&o==Ee&&this.set(f,n)}break;case B:var s=t[b];s&&("64"==t[se]&&(s+="64"),Ye.call(this.data,s+";",r));break;case W:if(t[y]&&this.set(m,y),t[w]&&(this.set(w,t[w]),this.get(m)&&this.get(g)||(Ye.call(s={},"droid 9; "+t[w]+")",r),!this.get(m)&&s.type&&this.set(m,s.type),!this.get(g)&&s.vendor&&this.set(g,s.vendor))),t[ie]){if("string"!=typeof t[ie])for(var l=0;!e&&l<t[ie].length;)e=je(t[ie][l++],Je);else e=je(t[ie],Je);this.set(m,e)}break;case u:var d,s=t[ne];s&&(d=t[oe],s==Fe&&(d=13<=parseInt(We(d),10)?"11":"10"),this.set(p,s).set(f,d)),this.get(p)==Fe&&"Xbox"==t[w]&&this.set(p,"Xbox").set(f,void 0);break;case q:var c=this.data,s=function(e){return c[e].getItem().setCH(t).parseCH().get()};this.set(h,s(h)).set(B,s(B)).set(W,s(W)).set(J,s(J)).set(u,s(u))}return this},Ge.call(this,[["itemType",e],["ua",t],["uaCH",i],["rgxMap",r],["data",Xe(this,e)]]),this}function tt(e,t,r){var i,a,n,o,s;return typeof e===L?(t=Le(e,!0)?(typeof t===L&&(r=t),e):void(r=e),e=void 0):typeof e!==U||Le(t,!0)||(r=t,t=void 0),r&&typeof r.append===D&&(i={},r.forEach(function(e,t){i[t]=e}),r=i),this instanceof tt?(a=typeof e===U?e:r&&r[M]?r[M]:l&&l.userAgent?l.userAgent:O,n=new $e(r,!0),o=t?((e,t)=>{var r,i={},a=t;if(!Le(t))for(var n in a={},t)for(var o in t[n])a[o]=t[n][o].concat(a[o]||[]);for(r in e)i[r]=a[r]&&a[r].length%2==0?a[r].concat(e[r]):e[r];return i})(qe,t):qe,Ge.call(this,[["getBrowser",(s=function(e){return e==q?function(){return new et(e,a,o,n).set("ua",a).set(h,this.getBrowser()).set(B,this.getCPU()).set(W,this.getDevice()).set(J,this.getEngine()).set(u,this.getOS()).get()}:function(){return new et(e,a,o[e],n).parseUA().get()}})(h)],["getCPU",s(B)],["getDevice",s(W)],["getEngine",s(J)],["getOS",s(u)],["getResult",s(q)],["getUA",function(){return a}],["setUA",function(e){return Ue(e)&&(a=e.length>T?He(e,T):e),this}]]).setUA(a),this):new tt(e,t,r).getResult()}tt.VERSION="2.0.2",tt.BROWSER=E([p,f,Q,m]),tt.CPU=E([b]),tt.DEVICE=E([w,g,m,X,y,e,a,$,te]),tt.ENGINE=tt.OS=E([p,f]);let rt=window,s=(rt.__webMonitor__={},rt.__webMonitor__);var it,at,Z,t=(new tt).getResult();function nt(e){var t=null==e?void 0:e.host;return Boolean((null==t?void 0:t.shadowRoot)===e)}function ot(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function st(e){try{var t=e.rules||e.cssRules;return t?r=(r=Array.from(t).map(lt).join("")).includes(" background-clip: text;")&&!r.includes(" -webkit-background-clip: text;")?r.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;"):r:null}catch(e){return null}var r}function lt(e){var t=e.cssText;if("styleSheet"in e)try{t=st(e.styleSheet)||t}catch(e){}return t}s.deviceInfo={browserVersion:t.browser.version,browserName:t.browser.name,osVersion:t.os.version,osName:t.os.name,ua:t.ua,device:t.device.model||"Unkown",deviceType:t.device.type||"Pc",deviceVendor:t.device.vendor||"Unkown"},s.hasError=!1,s.errorMap=new Map,s.replaceFlag=s.replaceFlag||{},s.replaceFlag,(o=it=it||{}).XHR="xhr",o.FETCH="fetch",o.CLICK="click",o.HISTORY="history",o.ERROR="error",o.HASHCHANGE="hashchange",o.RESOURCE="resource",o.UNHANDLEDREJECTION="unhandledrejection",o.DOM="dom",o.VUE="vue",o.CUSTOM="custom",o.PERFORMANCE="performance",o.RECORDSCREEN="recordScreen",o.WHITESCREEN="whiteScreen",(Oe=at=at||{}).ERROR="error",Oe.OK="ok",(i=Z=Z||{})[i.Document=0]="Document",i[i.DocumentType=1]="DocumentType",i[i.Element=2]="Element",i[i.Text=3]="Text",i[i.CDATA=4]="CDATA",i[i.Comment=5]="Comment";ct.prototype.getId=function(e){return e&&null!=(e=null==(e=this.getMeta(e))?void 0:e.id)?e:-1},ct.prototype.getNode=function(e){return this.idNodeMap.get(e)||null},ct.prototype.getIds=function(){return Array.from(this.idNodeMap.keys())},ct.prototype.getMeta=function(e){return this.nodeMetaMap.get(e)||null},ct.prototype.removeNodeFromMap=function(e){var t=this,r=this.getId(e);this.idNodeMap.delete(r),e.childNodes&&e.childNodes.forEach(function(e){return t.removeNodeFromMap(e)})},ct.prototype.has=function(e){return this.idNodeMap.has(e)},ct.prototype.hasNode=function(e){return this.nodeMetaMap.has(e)},ct.prototype.add=function(e,t){var r=t.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,t)},ct.prototype.replace=function(e,t){var r=this.getNode(e);r&&(r=this.nodeMetaMap.get(r))&&this.nodeMetaMap.set(t,r),this.idNodeMap.set(e,t)},ct.prototype.reset=function(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap};var dt=ct;function ct(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}function ht(e){var t=e.maskInputOptions,r=e.tagName,i=e.type,a=e.maskInputFn,e=e.value||"";return e=t[r.toLowerCase()]||t[i]?a?a(e):"*".repeat(e.length):e}var ut="__rrweb_original__";var pt,mt,gt=1,ft=new RegExp("[^a-z0-9-_:]"),bt=-2;function wt(){return gt++}var yt=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,vt=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/|#).*/,It=/^(data:)([^,]*),(.*)/i;function _t(e,c){return(e||"").replace(yt,function(e,t,r,i,a,n){r=r||a||n,a=t||i||"";if(!r)return e;if(!vt.test(r))return"url(".concat(a).concat(r).concat(a,")");if(It.test(r))return"url(".concat(a).concat(r).concat(a,")");if("/"===r[0])return"url(".concat(a).concat((-1<(n=c).indexOf("//")?n.split("/").slice(0,3).join("/"):n.split("/")[0]).split("?")[0]+r).concat(a,")");var o=c.split("/"),t=r.split("/");o.pop();for(var s=0,l=t;s<l.length;s++){var d=l[s];"."!==d&&(".."===d?o.pop():o.push(d))}return"url(".concat(a).concat(o.join("/")).concat(a,")")})}var Ct=/^[^ \t\n\r\u000c]+/,kt=/^[, \t\n\r\u000c]+/;function St(e,t){return t&&""!==t.trim()?((e=e.createElement("a")).href=t,e.href):t}function At(){var e=document.createElement("a");return e.href="",e.href}function xt(e,t,r,i){if("src"===r||"href"===r&&i&&("use"!==t||"#"!==i[0]))return St(e,i);if("xlink:href"===r&&i&&"#"!==i[0]||"background"===r&&i&&("table"===t||"td"===t||"th"===t))return St(e,i);if("srcset"===r&&i){var a=e,n=i;if(""===n.trim())return n;var o=0;function s(e){var e=e.exec(n.substring(o));return e?(e=e[0],o+=e.length,e):""}for(var l=[];s(kt),!(o>=n.length);)if(","===(c=s(Ct)).slice(-1))c=St(a,c.substring(0,c.length-1)),l.push(c);else for(var d="",c=St(a,c),h=!1;;){var u=n.charAt(o);if(""===u){l.push((c+d).trim());break}if(h)")"===u&&(h=!1);else{if(","===u){o+=1,l.push((c+d).trim());break}"("===u&&(h=!0)}d+=u,o+=1}return l.join(", ")}return"style"===r&&i?_t(i,At()):"object"===t&&"data"===r&&i?St(e,i):i}function Rt(e,t,r){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return!!r&&Rt(e.parentNode,t,r);for(var i=e.classList.length;i--;){var a=e.classList[i];if(t.test(a))return!0}return!!r&&Rt(e.parentNode,t,r)}function Et(e,t,r){e=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null!==e){if("string"==typeof t){if(e.classList.contains(t))return 1;if(e.closest(".".concat(t)))return 1}else if(Rt(e,t,!0))return 1;if(r){if(e.matches(r))return 1;if(e.closest(r))return 1}}}function Tt(e,t){var r=t.doc,i=t.blockClass,a=t.blockSelector,n=t.maskTextClass,o=t.maskTextSelector,s=t.inlineStylesheet,l=t.maskInputOptions,d=void 0===l?{}:l,c=t.maskTextFn,h=t.maskInputFn,l=t.dataURLOptions,u=void 0===l?{}:l,p=t.inlineImages,m=t.recordCanvas,g=t.keepIframeSrcFn,l=t.newlyAddedElement,z=void 0!==l&&l,f=(l=r,!(t=t.mirror).hasNode(l)||1===(t=t.getId(l))?void 0:t);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:Z.Document,childNodes:[],compatMode:e.compatMode}:{type:Z.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Z.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:f};case e.ELEMENT_NODE:for(var b,w,y=e,v=(E={doc:r,blockClass:i,blockSelector:a,inlineStylesheet:s,maskInputOptions:d,maskInputFn:h,dataURLOptions:u,inlineImages:p,recordCanvas:m,keepIframeSrcFn:g,newlyAddedElement:z,rootId:f}).doc,I=E.inlineStylesheet,_=void 0===(_=E.maskInputOptions)?{}:_,C=E.maskInputFn,k=void 0===(S=E.dataURLOptions)?{}:S,S=E.inlineImages,A=E.recordCanvas,x=E.keepIframeSrcFn,R=void 0!==(R=E.newlyAddedElement)&&R,L=E.rootId,E=((e,t,r)=>{if("string"==typeof t){if(e.classList.contains(t))return!0}else for(var i=e.classList.length;i--;){var a=e.classList[i];if(t.test(a))return!0}return!!r&&e.matches(r)})(y,E.blockClass,E.blockSelector),T=(e=>e instanceof HTMLFormElement?"form":(e=e.tagName.toLowerCase().trim(),ft.test(e)?"div":e))(y),M={},U=y.attributes.length,N=0;N<U;N++){var O=y.attributes[N];M[O.name]=xt(v,T,O.name,O.value)}return"link"===T&&I&&(I=Array.from(v.styleSheets).find(function(e){return e.href===y.href}),D=null,D=I?st(I):D)&&(delete M.rel,delete M.href,M._cssText=_t(D,I.href)),"style"===T&&y.sheet&&!(y.innerText||y.textContent||"").trim().length&&(D=st(y.sheet))&&(M._cssText=_t(D,At())),"input"!==T&&"textarea"!==T&&"select"!==T||(I=y.value,D=y.checked,"radio"!==M.type&&"checkbox"!==M.type&&"submit"!==M.type&&"button"!==M.type&&I?M.value=ht({type:M.type,tagName:T,value:I,maskInputOptions:_,maskInputFn:C}):D&&(M.checked=D)),"option"===T&&(y.selected&&!_.select?M.selected=!0:delete M.selected),"canvas"===T&&A&&("2d"===y.__context?(e=>{var t=e.getContext("2d");if(t)for(var r=0;r<e.width;r+=50)for(var i=0;i<e.height;i+=50){var a=t.getImageData,a=ut in a?a[ut]:a;if(new Uint32Array(a.call(t,r,i,Math.min(50,e.width-r),Math.min(50,e.height-i)).data.buffer).some(function(e){return 0!==e}))return}return 1})(y)||(M.rr_dataURL=y.toDataURL(k.type,k.quality)):"__context"in y||(I=y.toDataURL(k.type,k.quality),(C=document.createElement("canvas")).width=y.width,C.height=y.height,D=C.toDataURL(k.type,k.quality),I!==D&&(M.rr_dataURL=I))),"img"===T&&S&&(pt||(pt=v.createElement("canvas"),mt=pt.getContext("2d")),w=(b=y).crossOrigin,b.crossOrigin="anonymous",_=function(){try{pt.width=b.naturalWidth,pt.height=b.naturalHeight,mt.drawImage(b,0,0),M.rr_dataURL=pt.toDataURL(k.type,k.quality)}catch(e){console.warn("Cannot inline img src=".concat(b.currentSrc,"! Error: ").concat(e))}w?M.crossOrigin=w:b.removeAttribute("crossorigin")},b.complete&&0!==b.naturalWidth?_():b.onload=_),"audio"!==T&&"video"!==T||(M.rr_mediaState=y.paused?"paused":"played",M.rr_mediaCurrentTime=y.currentTime),R||(y.scrollLeft&&(M.rr_scrollLeft=y.scrollLeft),y.scrollTop&&(M.rr_scrollTop=y.scrollTop)),E&&(A=y.getBoundingClientRect(),C=A.width,D=A.height,M={class:M.class,rr_width:"".concat(C,"px"),rr_height:"".concat(D,"px")}),"iframe"!==T||x(M.src)||(y.contentDocument||(M.rr_src=M.src),delete M.src),{type:Z.Element,tagName:T,attributes:M,childNodes:[],isSVG:(e=>Boolean("svg"===e.tagName||e.ownerSVGElement))(y)||void 0,needBlock:E,rootId:L};case e.TEXT_NODE:var F,I=e,_=(S={maskTextClass:n,maskTextSelector:o,maskTextFn:c,rootId:f}).maskTextClass,R=S.maskTextSelector,A=S.maskTextFn,S=S.rootId,C=I.parentNode&&I.parentNode.tagName,D=I.textContent,x="STYLE"===C||void 0,C="SCRIPT"===C||void 0;if(x&&D){try{I.nextSibling||I.previousSibling||null!=(F=I.parentNode.sheet)&&F.cssRules&&(D=(e=>e.cssRules?Array.from(e.cssRules).map(function(e){return e.cssText||""}).join(""):"")(I.parentNode.sheet))}catch(e){console.warn("Cannot get CSS styles from text's parentNode. Error: ".concat(e),I)}D=_t(D,At())}return C&&(D="SCRIPT_PLACEHOLDER"),!x&&!C&&D&&Et(I,_,R)&&(D=A?A(D):D.replace(/[\S]/g,"*")),{type:Z.Text,textContent:D||"",isStyle:x,rootId:S};case e.CDATA_SECTION_NODE:return{type:Z.CDATA,textContent:"",rootId:f};case e.COMMENT_NODE:return{type:Z.Comment,textContent:e.textContent||"",rootId:f};default:return!1}}function N(e){return void 0===e?"":e.toLowerCase()}function Mt(t,e){var r=e.doc,i=e.mirror,a=e.blockClass,n=e.blockSelector,o=e.maskTextClass,s=e.maskTextSelector,l=e.skipChild,l=void 0!==l&&l,d=e.inlineStylesheet,c=void 0===d||d,d=e.maskInputOptions,h=void 0===d?{}:d,u=e.maskTextFn,p=e.maskInputFn,m=e.slimDOMOptions,d=e.dataURLOptions,g=void 0===d?{}:d,d=e.inlineImages,f=void 0!==d&&d,d=e.recordCanvas,b=void 0!==d&&d,w=e.onSerialize,y=e.onIframeLoad,d=e.iframeLoadTimeout,v=void 0===d?5e3:d,I=e.onStylesheetLoad,d=e.stylesheetLoadTimeout,_=void 0===d?5e3:d,d=e.keepIframeSrcFn,C=void 0===d?function(){return!1}:d,d=e.newlyAddedElement,e=e.preserveWhiteSpace,k=void 0===e||e,e=Tt(t,{doc:r,mirror:i,blockClass:a,blockSelector:n,maskTextClass:o,maskTextSelector:s,inlineStylesheet:c,maskInputOptions:h,maskTextFn:u,maskInputFn:p,dataURLOptions:g,inlineImages:f,recordCanvas:b,keepIframeSrcFn:C,newlyAddedElement:void 0!==d&&d});if(!e)return console.warn(t,"not serialized"),null;var d=i.hasNode(t)?i.getId(t):((e,t)=>{if(t.comment&&e.type===Z.Comment)return 1;if(e.type===Z.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&"preload"===e.attributes.rel&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&e.attributes.href.endsWith(".js")))return 1;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(N(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===N(e.attributes.name)||"icon"===N(e.attributes.rel)||"apple-touch-icon"===N(e.attributes.rel)||"shortcut icon"===N(e.attributes.rel))))return 1;if("meta"===e.tagName){if(t.headMetaDescKeywords&&N(e.attributes.name).match(/^description|keywords$/))return 1;if(t.headMetaSocial&&(N(e.attributes.property).match(/^(og|twitter|fb):/)||N(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===N(e.attributes.name)))return 1;if(t.headMetaRobots&&("robots"===N(e.attributes.name)||"googlebot"===N(e.attributes.name)||"bingbot"===N(e.attributes.name)))return 1;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return 1;if(t.headMetaAuthorship&&("author"===N(e.attributes.name)||"generator"===N(e.attributes.name)||"framework"===N(e.attributes.name)||"publisher"===N(e.attributes.name)||"progid"===N(e.attributes.name)||N(e.attributes.property).match(/^article:/)||N(e.attributes.property).match(/^product:/)))return 1;if(t.headMetaVerification&&("google-site-verification"===N(e.attributes.name)||"yandex-verification"===N(e.attributes.name)||"csrf-token"===N(e.attributes.name)||"p:domain_verify"===N(e.attributes.name)||"verify-v1"===N(e.attributes.name)||"verification"===N(e.attributes.name)||"shopify-checkout-api-token"===N(e.attributes.name)))return 1}}})(e,m)||!k&&e.type===Z.Text&&!e.isStyle&&!e.textContent.replace(/^\s+|\s+$/gm,"").length?bt:gt++,S=Object.assign(e,{id:d});if(i.add(t,S),d===bt)return null;w&&w(t);e=!l;if(S.type===Z.Element&&(e=e&&!S.needBlock,delete S.needBlock,d=t.shadowRoot)&&ot(d)&&(S.isShadowHost=!0),(S.type===Z.Document||S.type===Z.Element)&&e){m.headWhitespace&&S.type===Z.Element&&"head"===S.tagName&&(k=!1);for(var A={doc:r,mirror:i,blockClass:a,blockSelector:n,maskTextClass:o,maskTextSelector:s,skipChild:l,inlineStylesheet:c,maskInputOptions:h,maskTextFn:u,maskInputFn:p,slimDOMOptions:m,dataURLOptions:g,inlineImages:f,recordCanvas:b,preserveWhiteSpace:k,onSerialize:w,onIframeLoad:y,iframeLoadTimeout:v,onStylesheetLoad:I,stylesheetLoadTimeout:_,keepIframeSrcFn:C},x=0,R=Array.from(t.childNodes);x<R.length;x++)(E=Mt(R[x],A))&&S.childNodes.push(E);if(t.nodeType===t.ELEMENT_NODE&&t.shadowRoot)for(var E,T=0,M=Array.from(t.shadowRoot.childNodes);T<M.length;T++)(E=Mt(M[T],A))&&(ot(t.shadowRoot)&&(E.isShadow=!0),S.childNodes.push(E))}return t.parentNode&&nt(t.parentNode)&&ot(t.parentNode)&&(S.isShadow=!0),S.type===Z.Element&&"iframe"===S.tagName&&((e,t,r)=>{var i=e.contentWindow;if(i){var a,n,o=!1;try{n=i.document.readyState}catch(e){return}if("complete"===n)return i.location.href!==(n="about:blank")||e.src===n||""===e.src?(setTimeout(t,0),e.addEventListener("load",t)):e.addEventListener("load",t);a=setTimeout(function(){o||(t(),o=!0)},r),e.addEventListener("load",function(){clearTimeout(a),o=!0,t()})}})(t,function(){var e=t.contentDocument;e&&y&&(e=Mt(e,{doc:e,mirror:i,blockClass:a,blockSelector:n,maskTextClass:o,maskTextSelector:s,skipChild:!1,inlineStylesheet:c,maskInputOptions:h,maskTextFn:u,maskInputFn:p,slimDOMOptions:m,dataURLOptions:g,inlineImages:f,recordCanvas:b,preserveWhiteSpace:k,onSerialize:w,onIframeLoad:y,iframeLoadTimeout:v,onStylesheetLoad:I,stylesheetLoadTimeout:_,keepIframeSrcFn:C}))&&y(t,e)},v),S.type===Z.Element&&"link"===S.tagName&&"stylesheet"===S.attributes.rel&&((e,t,r)=>{var i,a,n=!1;try{i=e.sheet}catch(e){return}i||(a=setTimeout(function(){n||(t(),n=!0)},r),e.addEventListener("load",function(){clearTimeout(a),n=!0,t()}))})(t,function(){var e;I&&(e=Mt(t,{doc:r,mirror:i,blockClass:a,blockSelector:n,maskTextClass:o,maskTextSelector:s,skipChild:!1,inlineStylesheet:c,maskInputOptions:h,maskTextFn:u,maskInputFn:p,slimDOMOptions:m,dataURLOptions:g,inlineImages:f,recordCanvas:b,preserveWhiteSpace:k,onSerialize:w,onIframeLoad:y,iframeLoadTimeout:v,onStylesheetLoad:I,stylesheetLoadTimeout:_,keepIframeSrcFn:C}))&&I(t,e)},_),S}function G(e,t,r=document){let i={capture:!0,passive:!0};return r.addEventListener(e,t,i),()=>r.removeEventListener(e,t,i)}let Nt="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";ke={map:{},getId(){return console.error(Nt),-1},getNode(){return console.error(Nt),null},removeNodeFromMap(){console.error(Nt)},has(){return console.error(Nt),!1},reset(){console.error(Nt)}};function Ot(a,n,o={}){let s=null,l=0;return function(...e){var t=Date.now(),r=(l||!1!==o.leading||(l=t),n-(t-l));let i=this;r<=0||n<r?(s&&(clearTimeout(s),s=null),l=t,a.apply(i,e)):s||!1===o.trailing||(s=setTimeout(()=>{l=!1===o.leading?0:Date.now(),s=null,a.apply(i,e)},r))}}function Ft(e,t,r,i,a=window){let n=a.Object.getOwnPropertyDescriptor(e,t);return a.Object.defineProperty(e,t,i?r:{set(e){setTimeout(()=>{r.set.call(this,e)},0),n&&n.set&&n.set.call(this,e)}}),()=>Ft(e,t,n||{},!0)}function Dt(t,r,i){try{if(!(r in t))return()=>{};let e=t[r];var a=i(e);return"function"==typeof a&&(a.prototype=a.prototype||{},Object.defineProperties(a,{__rrweb_original__:{enumerable:!1,value:e}})),t[r]=a,()=>{t[r]=e}}catch(e){return()=>{}}}function zt(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Lt(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function v(e,t,r,i){if(e){var a=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(a){if("string"==typeof t){if(a.classList.contains(t))return!0;if(i&&null!==a.closest("."+t))return!0}else if(Rt(a,t,i))return!0;if(r){if(e.matches(r))return!0;if(i&&null!==a.closest(r))return!0}}}return!1}function Ut(e,t){return t.getId(e)===bt}function Zt(e){return Boolean(e.changedTouches)}function Bt(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function Wt(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function Gt(e){return Boolean(null==e?void 0:e.shadowRoot)}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&new Proxy(ke,{get(e,t,r){return"map"===t&&console.error(Nt),Reflect.get(e,t,r)}});class Vt{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return null!=(e=this.styleIDMap.get(e))?e:-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let r;return r=void 0===t?this.id++:t,this.styleIDMap.set(e,r),this.idStyleMap.set(r,e),r}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}var V=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))({}),K=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e))(K||{}),Kt=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Kt||{}),Ht=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))({});function Yt(e){return"__ln"in e}class jt{constructor(){this.length=0,this.head=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let r=this.head;for(let e=0;e<t;e++)r=(null==r?void 0:r.next)||null;return r}addNode(e){var t,r={value:e,previous:null,next:null};e.__ln=r,e.previousSibling&&Yt(e.previousSibling)?(t=e.previousSibling.__ln.next,r.next=t,r.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=r,t&&(t.previous=r)):e.nextSibling&&Yt(e.nextSibling)&&e.nextSibling.__ln.previous?(t=e.nextSibling.__ln.previous,r.previous=t,r.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=r,t&&(t.next=r)):(this.head&&(this.head.previous=r),r.next=this.head,this.head=r),this.length++}removeNode(e){var t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next&&(t.next.previous=t.previous)):(this.head=t.next,this.head&&(this.head.previous=null)),e.__ln&&delete e.__ln,this.length--)}}class Pt{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(!this.frozen&&!this.locked){let c=[],h=new jt,u=e=>{let t=e,r=bt;for(;r===bt;)t=t&&t.nextSibling,r=t&&this.mirror.getId(t);return r};for(var t,r,i,a,n=t=>{let e,r,i,a,n=null,o=n=(null==(r=null==(e=t.getRootNode)?void 0:e.call(t))?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host?t.getRootNode().host:n;for(;(null==(a=null==(i=null==o?void 0:o.getRootNode)?void 0:i.call(o))?void 0:a.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&o.getRootNode().host;)o=o.getRootNode().host;var s,l,d=!(this.doc.contains(t)||o&&this.doc.contains(o));if(t.parentNode&&!d)return d=nt(t.parentNode)?this.mirror.getId(n):this.mirror.getId(t.parentNode),s=u(t),-1===d||-1===s?h.addNode(t):void((l=Mt(t,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{Bt(e,this.mirror)&&this.iframeManager.addIframe(e),Wt(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),Gt(t)&&this.shadowDomManager.addShadowRoot(t.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t),this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}}))&&c.push({parentId:d,nextId:s,node:l}))};this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(t of Array.from(this.movedSet.values()))qt(this.removes,t,this.mirror)&&!this.movedSet.has(t.parentNode)||n(t);for(r of Array.from(this.addedSet.values()))!Qt(this.droppedSet,r)&&!qt(this.removes,r,this.mirror)||Qt(this.movedSet,r)?n(r):this.droppedSet.add(r);let e=null;for(;h.length;){let t=null;if(!(t=e&&(i=this.mirror.getId(e.value.parentNode),a=u(e.value),-1!==i)&&-1!==a?e:t))for(let e=h.length-1;0<=e;e--){var o=h.get(e);if(o){var s=this.mirror.getId(o.value.parentNode),l=u(o.value);if(-1!==l){if(-1!==s){t=o;break}l=o.value;if(l.parentNode&&l.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){s=l.parentNode.host;if(-1!==this.mirror.getId(s)){t=o;break}}}}}if(!t){for(;h.head;)h.removeNode(h.head.value);break}e=t.previous,h.removeNode(t.value),n(t.value)}var d={texts:this.texts.map(e=>({id:this.mirror.getId(e.node),value:e.value})).filter(e=>this.mirror.has(e.id)),attributes:this.attributes.map(e=>({id:this.mirror.getId(e.node),attributes:e.attributes})).filter(e=>this.mirror.has(e.id)),removes:this.removes,adds:c};(d.texts.length||d.attributes.length||d.removes.length||d.adds.length)&&(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(d))}},this.processMutation=i=>{if(!Ut(i.target,this.mirror))switch(i.type){case"characterData":var e=i.target.textContent;v(i.target,this.blockClass,this.blockSelector,!1)||e===i.oldValue||this.texts.push({value:Et(i.target,this.maskTextClass,this.maskTextSelector)&&e?this.maskTextFn?this.maskTextFn(e):e.replace(/[\S]/g,"*"):e,node:i.target});break;case"attributes":{var r=i.target;let e=i.target.getAttribute(i.attributeName);if("value"===i.attributeName&&(e=ht({maskInputOptions:this.maskInputOptions,tagName:i.target.tagName,type:i.target.getAttribute("type"),value:e,maskInputFn:this.maskInputFn})),v(i.target,this.blockClass,this.blockSelector,!1)||e===i.oldValue)return;let t=this.attributes.find(e=>e.node===i.target);if("IFRAME"===r.tagName&&"src"===i.attributeName&&!this.keepIframeSrcFn(e)){if(r.contentDocument)return;i.attributeName="rr_src"}if(t||(t={node:i.target,attributes:{}},this.attributes.push(t)),"style"===i.attributeName){var a,n,o=this.doc.createElement("span"),s=(i.oldValue&&o.setAttribute("style",i.oldValue),null==t.attributes.style&&(t.attributes.style={}),t.attributes.style);for(a of Array.from(r.style)){var l=r.style.getPropertyValue(a),d=r.style.getPropertyPriority(a);l===o.style.getPropertyValue(a)&&d===o.style.getPropertyPriority(a)||(s[a]=""===d?l:[l,d])}for(n of Array.from(o.style))""===r.style.getPropertyValue(n)&&(s[n]=!1)}else t.attributes[i.attributeName]=xt(this.doc,r.tagName,i.attributeName,e);break}case"childList":v(i.target,this.blockClass,this.blockSelector,!0)||(i.addedNodes.forEach(e=>this.genAdds(e,i.target)),i.removedNodes.forEach(e=>{var t=this.mirror.getId(e),r=nt(i.target)?this.mirror.getId(i.target.host):this.mirror.getId(i.target);v(i.target,this.blockClass,this.blockSelector,!1)||Ut(e,this.mirror)||-1===this.mirror.getId(e)||(this.addedSet.has(e)?(Jt(this.addedSet,e),this.droppedSet.add(e)):this.addedSet.has(i.target)&&-1===t||function e(t,r){var i;return!nt(t)&&(i=r.getId(t),!r.has(i)||(!t.parentNode||t.parentNode.nodeType!==t.DOCUMENT_NODE)&&(!t.parentNode||e(t.parentNode,r)))}(i.target,this.mirror)||(this.movedSet.has(e)&&this.movedMap[t+"@"+r]?Jt(this.movedSet,e):this.removes.push({parentId:r,id:t,isShadow:!(!nt(i.target)||!ot(i.target))||void 0})),this.mapRemoves.push(e))}))}},this.genAdds=(t,r)=>{if(this.mirror.hasNode(t)){if(Ut(t,this.mirror))return;this.movedSet.add(t);let e=null;(e=r&&this.mirror.hasNode(r)?this.mirror.getId(r):e)&&-1!==e&&(this.movedMap[this.mirror.getId(t)+"@"+e]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);v(t,this.blockClass,this.blockSelector,!1)||t.childNodes.forEach(e=>this.genAdds(e))}}init(t){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager"].forEach(e=>{this[e]=t[e]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Jt(t,e){t.delete(e),e.childNodes.forEach(e=>Jt(t,e))}function qt(e,t,r){return 0!==e.length&&function e(t,r,i){let a=r.parentNode;if(!a)return!1;let n=i.getId(a);if(t.some(e=>e.id===n))return!0;return e(t,a,i)}(e,t,r)}function Qt(e,t){return 0!==e.size&&function e(t,r){let i=r.parentNode;if(!i)return!1;if(t.has(i))return!0;return e(t,i)}(e,t)}let Xt=[],$t="undefined"!=typeof CSSGroupingRule,er="undefined"!=typeof CSSMediaRule,tr="undefined"!=typeof CSSSupportsRule,rr="undefined"!=typeof CSSConditionRule;function ir(t){try{if("composedPath"in t){var e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0];return t.target}catch(e){return t.target}}function ar(e,t){var r=new Pt;Xt.push(r),r.init(e);let i=window.MutationObserver||window.__rrMutationObserver;var a=null==(a=null==(e=null==window?void 0:window.Zone)?void 0:e.__symbol__)?void 0:a.call(e,"MutationObserver"),e=new(i=a&&window[a]?window[a]:i)(r.processMutations.bind(r));return e.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),e}function nr({mouseInteractionCb:a,doc:r,mirror:n,blockClass:o,blockSelector:s,sampling:e}){if(!1===e.mouseInteraction)return()=>{};let t=!0===e.mouseInteraction||void 0===e.mouseInteraction?{}:e.mouseInteraction,l=[];return Object.keys(Kt).filter(e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==t[e]).forEach(e=>{var i,t=e.toLowerCase(),e=(i=e,e=>{var t,r=ir(e);v(r,o,s,!0)||(e=Zt(e)?e.changedTouches[0]:e)&&(r=n.getId(r),{clientX:e,clientY:t}=e,a({type:Kt[i],id:r,x:e,y:t}))});l.push(G(t,e,r))}),()=>{l.forEach(e=>e())}}function or({scrollCb:i,doc:a,mirror:n,blockClass:o,blockSelector:s,sampling:e}){return G("scroll",Ot(e=>{var t,r,e=ir(e);e&&!v(e,o,s,!0)&&(t=n.getId(e),e===a?(r=a.scrollingElement||a.documentElement,i({id:t,x:r.scrollLeft,y:r.scrollTop})):i({id:t,x:e.scrollLeft,y:e.scrollTop}))},e.scroll||100),a)}function sr(e,t){e=Object.assign({},e);return t||delete e.userTriggered,e}let lr=["INPUT","TEXTAREA","SELECT"],dr=new WeakMap;function cr(e){var t,r;return e=e,t=[],$t&&e.parentRule instanceof CSSGroupingRule||er&&e.parentRule instanceof CSSMediaRule||tr&&e.parentRule instanceof CSSSupportsRule||rr&&e.parentRule instanceof CSSConditionRule?(r=Array.from(e.parentRule.cssRules).indexOf(e),t.unshift(r)):e.parentStyleSheet&&(r=Array.from(e.parentStyleSheet.cssRules).indexOf(e),t.unshift(r)),t}function hr(e,t,r){let i,a;return e?(e.ownerNode?i=t.getId(e.ownerNode):a=r.getId(e),{styleId:a,id:i}):{}}function ur({mirror:e,stylesheetManager:r},t){let i,a,n,o=null;o="#document"===t.nodeName?e.getId(t):e.getId(t.host);e="#document"===t.nodeName?null==(i=t.defaultView)?void 0:i.Document:null==(n=null==(a=t.ownerDocument)?void 0:a.defaultView)?void 0:n.ShadowRoot;let s=Object.getOwnPropertyDescriptor(null==e?void 0:e.prototype,"adoptedStyleSheets");return null!==o&&-1!==o&&e&&s?(Object.defineProperty(t,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get(){var e;return null==(e=s.get)?void 0:e.call(this)},set(e){var t=null==(t=s.set)?void 0:t.call(this,e);if(null!==o&&-1!==o)try{r.adoptStyleSheets(e,o)}catch(e){}return t}}),()=>{Object.defineProperty(t,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get:s.get,set:s.set})}):()=>{}}function pr(e,p={}){var t,r=e.doc.defaultView;if(!r)return()=>{};{var m=e,g=p;let{mutationCb:t,mousemoveCb:r,mouseInteractionCb:i,scrollCb:a,viewportResizeCb:n,inputCb:o,mediaInteractionCb:s,styleSheetRuleCb:l,styleDeclarationCb:d,canvasMutationCb:c,fontCb:h,selectionCb:u}=m;m.mutationCb=(...e)=>{g.mutation&&g.mutation(...e),t(...e)},m.mousemoveCb=(...e)=>{g.mousemove&&g.mousemove(...e),r(...e)},m.mouseInteractionCb=(...e)=>{g.mouseInteraction&&g.mouseInteraction(...e),i(...e)},m.scrollCb=(...e)=>{g.scroll&&g.scroll(...e),a(...e)},m.viewportResizeCb=(...e)=>{g.viewportResize&&g.viewportResize(...e),n(...e)},m.inputCb=(...e)=>{g.input&&g.input(...e),o(...e)},m.mediaInteractionCb=(...e)=>{g.mediaInteaction&&g.mediaInteaction(...e),s(...e)},m.styleSheetRuleCb=(...e)=>{g.styleSheetRule&&g.styleSheetRule(...e),l(...e)},m.styleDeclarationCb=(...e)=>{g.styleDeclaration&&g.styleDeclaration(...e),d(...e)},m.canvasMutationCb=(...e)=>{g.canvasMutation&&g.canvasMutation(...e),c(...e)},m.fontCb=(...e)=>{g.font&&g.font(...e),h(...e)},m.selectionCb=(...e)=>{g.selection&&g.selection(...e),u(...e)}}let i=ar(e,e.doc),a=(({mousemoveCb:r,sampling:e,doc:t,mirror:a})=>{if(!1===e.mousemove)return()=>{};var i="number"==typeof e.mousemove?e.mousemove:50,e="number"==typeof e.mousemoveCallback?e.mousemoveCallback:500;let n=[],o,s=Ot(e=>{let t=Date.now()-o;r(n.map(e=>(e.timeOffset-=t,e)),e),n=[],o=null},e),l=[G("mousemove",e=Ot(e=>{var t=ir(e),{clientX:r,clientY:i}=Zt(e)?e.changedTouches[0]:e;o=o||Date.now(),n.push({x:r,y:i,id:a.getId(t),timeOffset:Date.now()-o}),s("undefined"!=typeof DragEvent&&e instanceof DragEvent?K.Drag:e instanceof MouseEvent?K.MouseMove:K.TouchMove)},i,{trailing:!1}),t),G("touchmove",e,t),G("drag",e,t)];return()=>{l.forEach(e=>e())}})(e),n=nr(e),o=or(e),s=(({viewportResizeCb:r})=>{let i=-1,a=-1;return G("resize",Ot(()=>{var e=zt(),t=Lt();i===e&&a===t||(r({width:Number(t),height:Number(e)}),i=e,a=t)},200),window)})(e),l=(({inputCb:i,doc:n,mirror:a,blockClass:e,blockSelector:t,ignoreClass:o,maskInputOptions:s,maskInputFn:l,sampling:r,userTriggeredOnInput:d})=>{function c(r){let i=ir(r);r=r.isTrusted;if((i=i&&"OPTION"===i.tagName?i.parentElement:i)&&i.tagName&&!(lr.indexOf(i.tagName)<0)&&!v(i,e,t,!0)){var a=i.type;if(!i.classList.contains(o)){let e=i.value,t=!1;"radio"===a||"checkbox"===a?t=i.checked:(s[i.tagName.toLowerCase()]||s[a])&&(e=ht({maskInputOptions:s,tagName:i.tagName,type:a,value:e,maskInputFn:l})),h(i,sr({text:e,isChecked:t,userTriggered:r},d));r=i.name;"radio"===a&&r&&t&&n.querySelectorAll(`input[type="radio"][name="${r}"]`).forEach(e=>{e!==i&&h(e,sr({text:e.value,isChecked:!t,userTriggered:!1},d))})}}}function h(e,t){var r=dr.get(e);r&&r.text===t.text&&r.isChecked===t.isChecked||(dr.set(e,t),r=a.getId(e),i(Object.assign(Object.assign({},t),{id:r})))}var u;let p=("last"===r.input?["change"]:["input","change"]).map(e=>G(e,c,n)),m=n.defaultView;return m?(r=m.Object.getOwnPropertyDescriptor(m.HTMLInputElement.prototype,"value"),u=[[m.HTMLInputElement.prototype,"value"],[m.HTMLInputElement.prototype,"checked"],[m.HTMLSelectElement.prototype,"value"],[m.HTMLTextAreaElement.prototype,"value"],[m.HTMLSelectElement.prototype,"selectedIndex"],[m.HTMLOptionElement.prototype,"selected"]],r&&r.set&&p.push(...u.map(e=>Ft(e[0],e[1],{set(){c({target:this})}},!1,m))),()=>{p.forEach(e=>e())}):()=>{p.forEach(e=>e())}})(e),d=(({mediaInteractionCb:o,blockClass:s,blockSelector:l,mirror:d,sampling:e})=>{var t=n=>Ot(e=>{var t,r,i,a,e=ir(e);e&&!v(e,s,l,!0)&&({currentTime:t,volume:r,muted:i,playbackRate:a}=e,o({type:n,id:d.getId(e),currentTime:t,volume:r,muted:i,playbackRate:a}))},e.media||500);let r=[G("play",t(0)),G("pause",t(1)),G("seeked",t(2)),G("volumechange",t(3)),G("ratechange",t(4))];return()=>{r.forEach(e=>e())}})(e),c=(({styleSheetRuleCb:n,mirror:o,stylesheetManager:s},{win:e})=>{let a=e.CSSStyleSheet.prototype.insertRule,i=(e.CSSStyleSheet.prototype.insertRule=function(e,t){var{id:r,styleId:i}=hr(this,o,s.styleMirror);return(r&&-1!==r||i&&-1!==i)&&n({id:r,styleId:i,adds:[{rule:e,index:t}]}),a.apply(this,[e,t])},e.CSSStyleSheet.prototype.deleteRule);e.CSSStyleSheet.prototype.deleteRule=function(e){var{id:t,styleId:r}=hr(this,o,s.styleMirror);return(t&&-1!==t||r&&-1!==r)&&n({id:t,styleId:r,removes:[{index:e}]}),i.apply(this,[e])};let l;e.CSSStyleSheet.prototype.replace&&(l=e.CSSStyleSheet.prototype.replace,e.CSSStyleSheet.prototype.replace=function(e){var{id:t,styleId:r}=hr(this,o,s.styleMirror);return(t&&-1!==t||r&&-1!==r)&&n({id:t,styleId:r,replace:e}),l.apply(this,[e])});let d,t=(e.CSSStyleSheet.prototype.replaceSync&&(d=e.CSSStyleSheet.prototype.replaceSync,e.CSSStyleSheet.prototype.replaceSync=function(e){var{id:t,styleId:r}=hr(this,o,s.styleMirror);return(t&&-1!==t||r&&-1!==r)&&n({id:t,styleId:r,replaceSync:e}),d.apply(this,[e])}),{}),c=($t?t.CSSGroupingRule=e.CSSGroupingRule:(er&&(t.CSSMediaRule=e.CSSMediaRule),rr&&(t.CSSConditionRule=e.CSSConditionRule),tr&&(t.CSSSupportsRule=e.CSSSupportsRule)),{});return Object.entries(t).forEach(([a,e])=>{c[a]={insertRule:e.prototype.insertRule,deleteRule:e.prototype.deleteRule},e.prototype.insertRule=function(e,t){var{id:r,styleId:i}=hr(this.parentStyleSheet,o,s.styleMirror);return(r&&-1!==r||i&&-1!==i)&&n({id:r,styleId:i,adds:[{rule:e,index:[...cr(this),t||0]}]}),c[a].insertRule.apply(this,[e,t])},e.prototype.deleteRule=function(e){var{id:t,styleId:r}=hr(this.parentStyleSheet,o,s.styleMirror);return(t&&-1!==t||r&&-1!==r)&&n({id:t,styleId:r,removes:[{index:[...cr(this),e]}]}),c[a].deleteRule.apply(this,[e])}}),()=>{e.CSSStyleSheet.prototype.insertRule=a,e.CSSStyleSheet.prototype.deleteRule=i,l&&(e.CSSStyleSheet.prototype.replace=l),d&&(e.CSSStyleSheet.prototype.replaceSync=d),Object.entries(t).forEach(([e,t])=>{t.prototype.insertRule=c[e].insertRule,t.prototype.deleteRule=c[e].deleteRule})}})(e,{win:r}),h=ur(e,e.doc),u=(({styleDeclarationCb:n,mirror:o,ignoreCSSAttributes:s,stylesheetManager:l},{win:e})=>{let d=e.CSSStyleDeclaration.prototype.setProperty,i=(e.CSSStyleDeclaration.prototype.setProperty=function(e,t,r){var i,a;return!s.has(e)&&({id:i,styleId:a}=hr(null==(i=this.parentRule)?void 0:i.parentStyleSheet,o,l.styleMirror),i&&-1!==i||a&&-1!==a)&&n({id:i,styleId:a,set:{property:e,value:t,priority:r},index:cr(this.parentRule)}),d.apply(this,[e,t,r])},e.CSSStyleDeclaration.prototype.removeProperty);return e.CSSStyleDeclaration.prototype.removeProperty=function(e){var t,r;return!s.has(e)&&({id:t,styleId:r}=hr(null==(t=this.parentRule)?void 0:t.parentStyleSheet,o,l.styleMirror),t&&-1!==t||r&&-1!==r)&&n({id:t,styleId:r,remove:{property:e},index:cr(this.parentRule)}),i.apply(this,[e])},()=>{e.CSSStyleDeclaration.prototype.setProperty=d,e.CSSStyleDeclaration.prototype.removeProperty=i}})(e,{win:r}),f=e.collectFonts?(({fontCb:r,doc:e})=>{let t=e.defaultView;if(!t)return()=>{};let i=[],a=new WeakMap,n=t.FontFace;return t.FontFace=function(e,t,r){var i=new n(e,t,r);return a.set(i,{family:e,buffer:"string"!=typeof t,descriptors:r,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),i},e=Dt(e.fonts,"add",function(e){return function(t){return setTimeout(()=>{var e=a.get(t);e&&(r(e),a.delete(t))},0),e.apply(this,[t])}}),i.push(()=>{t.FontFace=n}),i.push(e),()=>{i.forEach(e=>e())}})(e):()=>{},b=(e=>{let{doc:l,mirror:d,blockClass:c,blockSelector:h,selectionCb:u}=e,p=!0;return(e=()=>{var t=l.getSelection();if(!(!t||p&&null!=t&&t.isCollapsed)){p=t.isCollapsed||!1;var r=[],i=t.rangeCount||0;for(let e=0;e<i;e++){var{startContainer:a,startOffset:n,endContainer:o,endOffset:s}=t.getRangeAt(e);v(a,c,h,!0)||v(o,c,h,!0)||r.push({start:d.getId(a),startOffset:n,end:d.getId(o),endOffset:s})}u({ranges:r})}})(),G("selectionchange",e)})(e),w=[];for(t of e.plugins)w.push(t.observer(t.callback,r,t.options));return()=>{Xt.forEach(e=>e.reset()),i.disconnect(),a(),n(),o(),s(),l(),d(),c(),h(),u(),f(),b(),w.forEach(e=>e())}}class mr{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,r,i){r=r||this.getIdToRemoteIdMap(e),i=i||this.getRemoteIdToIdMap(e);let a=r.get(t);return a||(a=this.generateIdFn(),r.set(t,a),i.set(a,t)),a}getIds(t,e){let r=this.getIdToRemoteIdMap(t),i=this.getRemoteIdToIdMap(t);return e.map(e=>this.getId(t,e,r,i))}getRemoteId(e,t,r){r=r||this.getRemoteIdToIdMap(e);return"number"!=typeof t?t:r.get(t)||-1}getRemoteIds(t,e){let r=this.getRemoteIdToIdMap(t);return e.map(e=>this.getRemoteId(t,e,r))}reset(e){e?(this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)):(this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}class gr{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new mr(wt),this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new mr(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),null!=(t=this.loadListener)&&t.call(this,e),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&0<e.contentDocument.adoptedStyleSheets.length&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){var t;"rrweb"===e.data.type&&e.source&&(t=this.crossOriginIframeMap.get(e.source))&&(t=this.transformCrossOriginEvent(t,e.data.event))&&this.wrappedEmit(t,e.data.isCheckout)}transformCrossOriginEvent(t,e){var r;switch(e.type){case V.FullSnapshot:return this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(e.data.node,t),{timestamp:e.timestamp,type:V.IncrementalSnapshot,data:{source:K.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:e.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}};case V.Meta:case V.Load:case V.DomContentLoaded:return!1;case V.Plugin:return e;case V.Custom:return this.replaceIds(e.data.payload,t,["id","parentId","previousId","nextId"]),e;case V.IncrementalSnapshot:switch(e.data.source){case K.Mutation:return e.data.adds.forEach(e=>{this.replaceIds(e,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(e.node,t)}),e.data.removes.forEach(e=>{this.replaceIds(e,t,["parentId","id"])}),e.data.attributes.forEach(e=>{this.replaceIds(e,t,["id"])}),e.data.texts.forEach(e=>{this.replaceIds(e,t,["id"])}),e;case K.Drag:case K.TouchMove:case K.MouseMove:return e.data.positions.forEach(e=>{this.replaceIds(e,t,["id"])}),e;case K.ViewportResize:return!1;case K.MediaInteraction:case K.MouseInteraction:case K.Scroll:case K.CanvasMutation:case K.Input:return this.replaceIds(e.data,t,["id"]),e;case K.StyleSheetRule:case K.StyleDeclaration:return this.replaceIds(e.data,t,["id"]),this.replaceStyleIds(e.data,t,["styleId"]),e;case K.Font:return e;case K.Selection:return e.data.ranges.forEach(e=>{this.replaceIds(e,t,["start","end"])}),e;case K.AdoptedStyleSheet:return this.replaceIds(e.data,t,["id"]),this.replaceStyleIds(e.data,t,["styleIds"]),null!=(r=e.data.styles)&&r.forEach(e=>{this.replaceStyleIds(e,t,["styleId"])}),e}}}replace(e,t,r,i){for(var a of i)!Array.isArray(t[a])&&"number"!=typeof t[a]||(Array.isArray(t[a])?t[a]=e.getIds(r,t[a]):t[a]=e.getId(r,t[a]));return t}replaceIds(e,t,r){return this.replace(this.crossOriginIframeMirror,e,t,r)}replaceStyleIds(e,t,r){return this.replace(this.crossOriginIframeStyleMirror,e,t,r)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id"]),"childNodes"in e&&e.childNodes.forEach(e=>{this.replaceIdOnNode(e,t)})}}class fr{constructor(e){this.shadowDoms=new WeakSet,this.restorePatches=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror;let r=this;this.restorePatches.push(Dt(Element.prototype,"attachShadow",function(t){return function(e){e=t.call(this,e);return this.shadowRoot&&r.addShadowRoot(this.shadowRoot,this.ownerDocument),e}}))}addShadowRoot(e,t){!ot(e)||this.shadowDoms.has(e)||(this.shadowDoms.add(e),ar(Object.assign(Object.assign({},this.bypassOptions),{doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e),or(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),setTimeout(()=>{e.adoptedStyleSheets&&0<e.adoptedStyleSheets.length&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),ur({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e)},0))}observeAttachShadow(i){if(i.contentWindow){let r=this;this.restorePatches.push(Dt(i.contentWindow.HTMLElement.prototype,"attachShadow",function(t){return function(e){e=t.call(this,e);return this.shadowRoot&&r.addShadowRoot(this.shadowRoot,i.contentDocument),e}}))}}reset(){this.restorePatches.forEach(e=>e()),this.shadowDoms=new WeakSet}}function br(e,t,o,s){return new(o=o||Promise)(function(r,t){function i(e){try{n(s.next(e))}catch(e){t(e)}}function a(e){try{n(s.throw(e))}catch(e){t(e)}}function n(e){var t;e.done?r(e.value):((t=e.value)instanceof o?t:new o(function(e){e(t)})).then(i,a)}n((s=s.apply(e,[])).next())})}for(var wr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yr="undefined"==typeof Uint8Array?[]:new Uint8Array(256),vr=0;vr<wr.length;vr++)yr[wr.charCodeAt(vr)]=vr;var Ir=function(e){for(var t=new Uint8Array(e),r=t.length,i="",a=0;a<r;a+=3)i=(i=(i=(i+=wr[t[a]>>2])+wr[(3&t[a])<<4|t[a+1]>>4])+wr[(15&t[a+1])<<2|t[a+2]>>6])+wr[63&t[a+2]];return r%3==2?i=i.substring(0,i.length-1)+"=":r%3==1&&(i=i.substring(0,i.length-2)+"=="),i};let _r=new Map;let Cr=(t,r,i)=>{if(t&&(Sr(t,r)||"object"==typeof t)){r=((e,t)=>{let r=_r.get(e);return r||(r=new Map,_r.set(e,r)),r.has(t)||r.set(t,[]),r.get(t)})(i,t.constructor.name);let e=r.indexOf(t);return-1===e&&(e=r.length,r.push(t)),e}};let kr=(e,t,r)=>[...e].map(e=>function t(e,r,i){var a;return e instanceof Array?e.map(e=>t(e,r,i)):null===e?e:e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray?{rr_type:e.constructor.name,args:[Object.values(e)]}:e instanceof ArrayBuffer?{rr_type:e.constructor.name,base64:Ir(e)}:e instanceof DataView?{rr_type:e.constructor.name,args:[t(e.buffer,r,i),e.byteOffset,e.byteLength]}:e instanceof HTMLImageElement?(a=e.src,{rr_type:e.constructor.name,src:a}):e instanceof HTMLCanvasElement?{rr_type:"HTMLImageElement",src:e.toDataURL()}:e instanceof ImageData?{rr_type:e.constructor.name,args:[t(e.data,r,i),e.width,e.height]}:Sr(e,r)||"object"==typeof e?{rr_type:e.constructor.name,index:Cr(e,r,i)}:e}(e,t,r)),Sr=(t,r)=>{var e=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(e=>"function"==typeof r[e]);return Boolean(e.find(e=>t instanceof r[e]))};function Ar(e,i,a){let t=[];try{var r=Dt(e.HTMLCanvasElement.prototype,"getContext",function(r){return function(e,...t){return v(this,i,a,!0)||"__context"in this||(this.__context=e),r.apply(this,[e,...t])}});t.push(r)}catch(e){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{t.forEach(e=>e())}}function xr(t,a,n,o,s,e,l){var r,d=[];for(let i of Object.getOwnPropertyNames(t))if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(i))try{"function"==typeof t[i]&&(r=Dt(t,i,function(r){return function(...e){var t=r.apply(this,e);return Cr(t,l,this),v(this.canvas,o,s,!0)||(e=kr([...e],l,this),e={type:a,property:i,args:e},n(this.canvas,e)),t}}),d.push(r))}catch(e){var c=Ft(t,i,{set(e){n(this.canvas,{type:a,property:i,args:[e],setter:!0})}});d.push(c)}return d}var Rr=null;try{Rr=("undefined"!=typeof module&&"function"==typeof module.require&&module.require("worker_threads")||"function"==typeof __non_webpack_require__&&__non_webpack_require__("worker_threads")||"function"==typeof require&&require("worker_threads")).Worker}catch(e){}function Er(e){var e=Buffer.from(e,"base64").toString("utf8"),t=e.indexOf("\n",10)+1,r=e.substring(t)+"";return function(e){return new Rr(r,Object.assign({},e,{eval:!0}))}}function Tr(e){var e=atob(e),t=e.indexOf("\n",10)+1,e=e.substring(t)+"",t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}_e="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);xe="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIC8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KICAgIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLg0KDQogICAgUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55DQogICAgcHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLg0KDQogICAgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEgNCiAgICBSRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkNCiAgICBBTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsDQogICAgSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NDQogICAgTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1INCiAgICBPVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SDQogICAgUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS4NCiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqLw0KDQogICAgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikgew0KICAgICAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH0NCiAgICAgICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7DQogICAgICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9DQogICAgICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvclsidGhyb3ciXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9DQogICAgICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfQ0KICAgICAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpOw0KICAgICAgICB9KTsNCiAgICB9CgogICAgLyoKICAgICAqIGJhc2U2NC1hcnJheWJ1ZmZlciAxLjAuMSA8aHR0cHM6Ly9naXRodWIuY29tL25pa2xhc3ZoL2Jhc2U2NC1hcnJheWJ1ZmZlcj4KICAgICAqIENvcHlyaWdodCAoYykgMjAyMSBOaWtsYXMgdm9uIEhlcnR6ZW4gPGh0dHBzOi8vaGVydHplbi5jb20+CiAgICAgKiBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZQogICAgICovCiAgICB2YXIgY2hhcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7CiAgICAvLyBVc2UgYSBsb29rdXAgdGFibGUgdG8gZmluZCB0aGUgaW5kZXguCiAgICB2YXIgbG9va3VwID0gdHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnID8gW10gOiBuZXcgVWludDhBcnJheSgyNTYpOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykgewogICAgICAgIGxvb2t1cFtjaGFycy5jaGFyQ29kZUF0KGkpXSA9IGk7CiAgICB9CiAgICB2YXIgZW5jb2RlID0gZnVuY3Rpb24gKGFycmF5YnVmZmVyKSB7CiAgICAgICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlidWZmZXIpLCBpLCBsZW4gPSBieXRlcy5sZW5ndGgsIGJhc2U2NCA9ICcnOwogICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gMykgewogICAgICAgICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaV0gPj4gMl07CiAgICAgICAgICAgIGJhc2U2NCArPSBjaGFyc1soKGJ5dGVzW2ldICYgMykgPDwgNCkgfCAoYnl0ZXNbaSArIDFdID4+IDQpXTsKICAgICAgICAgICAgYmFzZTY0ICs9IGNoYXJzWygoYnl0ZXNbaSArIDFdICYgMTUpIDw8IDIpIHwgKGJ5dGVzW2kgKyAyXSA+PiA2KV07CiAgICAgICAgICAgIGJhc2U2NCArPSBjaGFyc1tieXRlc1tpICsgMl0gJiA2M107CiAgICAgICAgfQogICAgICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgICAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgJz0nOwogICAgICAgIH0KICAgICAgICBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgICAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgJz09JzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGJhc2U2NDsKICAgIH07CgogICAgY29uc3QgbGFzdEJsb2JNYXAgPSBuZXcgTWFwKCk7DQogICAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gbmV3IE1hcCgpOw0KICAgIGZ1bmN0aW9uIGdldFRyYW5zcGFyZW50QmxvYkZvcih3aWR0aCwgaGVpZ2h0LCBkYXRhVVJMT3B0aW9ucykgew0KICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgew0KICAgICAgICAgICAgY29uc3QgaWQgPSBgJHt3aWR0aH0tJHtoZWlnaHR9YDsNCiAgICAgICAgICAgIGlmICgnT2Zmc2NyZWVuQ2FudmFzJyBpbiBnbG9iYWxUaGlzKSB7DQogICAgICAgICAgICAgICAgaWYgKHRyYW5zcGFyZW50QmxvYk1hcC5oYXMoaWQpKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNwYXJlbnRCbG9iTWFwLmdldChpZCk7DQogICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsNCiAgICAgICAgICAgICAgICBvZmZzY3JlZW4uZ2V0Q29udGV4dCgnMmQnKTsNCiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0geWllbGQgb2Zmc2NyZWVuLmNvbnZlcnRUb0Jsb2IoZGF0YVVSTE9wdGlvbnMpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0geWllbGQgYmxvYi5hcnJheUJ1ZmZlcigpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7DQogICAgICAgICAgICAgICAgdHJhbnNwYXJlbnRCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZTY0Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgcmV0dXJuICcnOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9DQogICAgY29uc3Qgd29ya2VyID0gc2VsZjsNCiAgICB3b3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHsNCiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsNCiAgICAgICAgICAgIGlmICgnT2Zmc2NyZWVuQ2FudmFzJyBpbiBnbG9iYWxUaGlzKSB7DQogICAgICAgICAgICAgICAgY29uc3QgeyBpZCwgYml0bWFwLCB3aWR0aCwgaGVpZ2h0LCBkYXRhVVJMT3B0aW9ucyB9ID0gZS5kYXRhOw0KICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zKTsNCiAgICAgICAgICAgICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOw0KICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IG9mZnNjcmVlbi5nZXRDb250ZXh0KCcyZCcpOw0KICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoYml0bWFwLCAwLCAwKTsNCiAgICAgICAgICAgICAgICBiaXRtYXAuY2xvc2UoKTsNCiAgICAgICAgICAgICAgICBjb25zdCBibG9iID0geWllbGQgb2Zmc2NyZWVuLmNvbnZlcnRUb0Jsb2IoZGF0YVVSTE9wdGlvbnMpOw0KICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBibG9iLnR5cGU7DQogICAgICAgICAgICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSB5aWVsZCBibG9iLmFycmF5QnVmZmVyKCk7DQogICAgICAgICAgICAgICAgY29uc3QgYmFzZTY0ID0gZW5jb2RlKGFycmF5QnVmZmVyKTsNCiAgICAgICAgICAgICAgICBpZiAoIWxhc3RCbG9iTWFwLmhhcyhpZCkgJiYgKHlpZWxkIHRyYW5zcGFyZW50QmFzZTY0KSA9PT0gYmFzZTY0KSB7DQogICAgICAgICAgICAgICAgICAgIGxhc3RCbG9iTWFwLnNldChpZCwgYmFzZTY0KTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtlci5wb3N0TWVzc2FnZSh7IGlkIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7DQogICAgICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKHsNCiAgICAgICAgICAgICAgICAgICAgaWQsDQogICAgICAgICAgICAgICAgICAgIHR5cGUsDQogICAgICAgICAgICAgICAgICAgIGJhc2U2NCwNCiAgICAgICAgICAgICAgICAgICAgd2lkdGgsDQogICAgICAgICAgICAgICAgICAgIGhlaWdodCwNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfTsKCn0pKCk7Cgo=";var Mr,Nr,Or=_e?Er(xe):(Mr=xe,function(e){return Nr=Nr||Tr(Mr),new Worker(Nr,e)});class Fr{constructor(e){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(e,t)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(e)||this.pendingCanvasMutations.set(e,[]),this.pendingCanvasMutations.get(e).push(t)};var{sampling:t="all",win:r,blockClass:i,blockSelector:a,recordCanvas:n,dataURLOptions:o}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,n&&"all"===t&&this.initCanvasMutationObserver(r,i,a),n&&"number"==typeof t&&this.initCanvasFPSObserver(t,r,i,a,{dataURLOptions:o})}reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}initCanvasFPSObserver(e,r,i,a,n){let t=Ar(r,i,a),o=new Map,s=new Or,l=(s.onmessage=e=>{var t,r,i,a=e.data.id;o.set(a,!1),"base64"in e.data&&({base64:e,type:t,width:r,height:i}=e.data,this.mutationCb({id:a,type:Ht["2D"],commands:[{property:"clearRect",args:[0,0,r,i]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:e}],type:t}]},0,0]}]}))},1e3/e),d=0,c,h=()=>{let t=[];return r.document.querySelectorAll("canvas").forEach(e=>{v(e,i,a,!0)||t.push(e)}),t},u=e=>{c=(d&&e-d<l||(d=e,h().forEach(i=>br(this,0,void 0,function*(){var e,t,r=this.mirror.getId(i);o.get(r)||(o.set(r,!0),["webgl","webgl2"].includes(i.__context)&&!1===(null==(t=null==(e=i.getContext(i.__context))?void 0:e.getContextAttributes())?void 0:t.preserveDrawingBuffer)&&null!=e&&e.clear(e.COLOR_BUFFER_BIT),t=yield createImageBitmap(i),s.postMessage({id:r,bitmap:t,width:i.width,height:i.height,dataURLOptions:n.dataURLOptions},[t]))}))),requestAnimationFrame(u))};c=requestAnimationFrame(u),this.resetObservers=()=>{t(),cancelAnimationFrame(c)}}initCanvasMutationObserver(e,t,r){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();let i=Ar(e,t,r),a=((i,a,n,o)=>{let t=[];var e;for(let r of Object.getOwnPropertyNames(a.CanvasRenderingContext2D.prototype))try{"function"==typeof a.CanvasRenderingContext2D.prototype[r]&&(e=Dt(a.CanvasRenderingContext2D.prototype,r,function(e){return function(...t){return v(this.canvas,n,o,!0)||setTimeout(()=>{var e=kr([...t],a,this);i(this.canvas,{type:Ht["2D"],property:r,args:e})},0),e.apply(this,t)}}),t.push(e))}catch(e){var s=Ft(a.CanvasRenderingContext2D.prototype,r,{set(e){i(this.canvas,{type:Ht["2D"],property:r,args:[e],setter:!0})}});t.push(s)}return()=>{t.forEach(e=>e())}})(this.processMutation.bind(this),e,t,r),n=((e,t,r,i)=>{let a=[];return a.push(...xr(t.WebGLRenderingContext.prototype,Ht.WebGL,e,r,i,0,t)),void 0!==t.WebGL2RenderingContext&&a.push(...xr(t.WebGL2RenderingContext.prototype,Ht.WebGL2,e,r,i,0,t)),()=>{a.forEach(e=>e())}})(this.processMutation.bind(this),e,t,r,this.mirror);this.resetObservers=()=>{i(),a(),n()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let t=e=>{this.rafStamps.latestId=e,requestAnimationFrame(t)};requestAnimationFrame(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((e,t)=>{var r=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,r)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(e,t){var r,i;this.frozen||this.locked||(i=this.pendingCanvasMutations.get(e))&&-1!==t&&(r=i.map(e=>{var t=e,r=["type"],i={};for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(i[n[a]]=t[n[a]]);return i}),i=i[0].type,this.mutationCb({id:t,type:i,commands:r}),this.pendingCanvasMutations.delete(e))}}class Dr{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new Vt,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0!==e.length){var r,i,a={id:t,styleIds:[]},n=[];for(r of e){let e;this.styleMirror.has(r)?e=this.styleMirror.getId(r):(e=this.styleMirror.add(r),i=Array.from(r.rules||CSSRule),n.push({styleId:e,rules:i.map((e,t)=>({rule:lt(e),index:t}))})),a.styleIds.push(e)}0<n.length&&(a.styles=n),this.adoptedStyleSheetCb(a)}}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}function H(e){return Object.assign(Object.assign({},e),{timestamp:Date.now()})}let Y,zr,Lr,Ur=!1,Zr=new dt;function Br(e={}){let{emit:i,checkoutEveryNms:a,checkoutEveryNth:n,blockClass:p="rr-block",blockSelector:m=null,ignoreClass:z="rr-ignore",maskTextClass:g="rr-mask",maskTextSelector:f=null,inlineStylesheet:b=!0,maskAllInputs:L,maskInputOptions:t,slimDOMOptions:r,maskInputFn:o,maskTextFn:w,hooks:U,packFn:s,sampling:l={},dataURLOptions:y={},mousemoveWait:d,recordCanvas:v=!1,recordCrossOriginIframes:c=!1,userTriggeredOnInput:Z=!1,collectFonts:B=!1,inlineImages:I=!1,plugins:h,keepIframeSrcFn:_=()=>!1,ignoreCSSAttributes:W=new Set([])}=e,u=!c||window.parent===window,C=!1;if(!u)try{window.parent.document,C=!1}catch(e){C=!0}if(u&&!i)throw new Error("emit function is required");void 0!==d&&void 0===l.mousemove&&(l.mousemove=d),Zr.reset();let k=!0===L?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==t?t:{password:!0},S=!0===r||"all"===r?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===r,headMetaDescKeywords:"all"===r}:r||{};!function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1})}();let A,x=0,R=e=>{for(var t of h||[])t.eventProcessor&&(e=t.eventProcessor(e));return e=s?s(e):e},E=(Y=(e,t)=>{var r;null==(r=Xt[0])||!r.isFrozen()||e.type===V.FullSnapshot||e.type===V.IncrementalSnapshot&&e.data.source===K.Mutation||Xt.forEach(e=>e.unfreeze()),u?null!=i&&i(R(e),t):C&&(r={type:"rrweb",event:R(e),isCheckout:t},window.parent.postMessage(r,"*")),e.type===V.FullSnapshot?(A=e,x=0):e.type!==V.IncrementalSnapshot||e.data.source===K.Mutation&&e.data.isAttachIframe||(x++,t=n&&x>=n,r=a&&e.timestamp-A.timestamp>a,(t||r)&&zr(!0))},e=>{Y(H({type:V.IncrementalSnapshot,data:Object.assign({source:K.Mutation},e)}))}),T=e=>Y(H({type:V.IncrementalSnapshot,data:Object.assign({source:K.Scroll},e)})),M=e=>Y(H({type:V.IncrementalSnapshot,data:Object.assign({source:K.CanvasMutation},e)}));var N;let O=new Dr({mutationCb:E,adoptedStyleSheetCb:e=>Y(H({type:V.IncrementalSnapshot,data:Object.assign({source:K.AdoptedStyleSheet},e)}))}),F=new gr({mirror:Zr,mutationCb:E,stylesheetManager:O,recordCrossOriginIframes:c,wrappedEmit:Y});for(N of h||[])N.getMirror&&N.getMirror({nodeMirror:Zr,crossOriginIframeMirror:F.crossOriginIframeMirror,crossOriginIframeStyleMirror:F.crossOriginIframeStyleMirror});Lr=new Fr({recordCanvas:v,mutationCb:M,win:window,blockClass:p,blockSelector:m,mirror:Zr,sampling:l.canvas,dataURLOptions:y});let D=new fr({mutationCb:E,scrollCb:T,bypassOptions:{blockClass:p,blockSelector:m,maskTextClass:g,maskTextSelector:f,inlineStylesheet:b,maskInputOptions:k,dataURLOptions:y,maskTextFn:w,maskInputFn:o,recordCanvas:v,inlineImages:I,sampling:l,slimDOMOptions:S,iframeManager:F,stylesheetManager:O,canvasManager:Lr,keepIframeSrcFn:_},mirror:Zr});zr=(e=!1)=>{Y(H({type:V.Meta,data:{href:window.location.href,width:Lt(),height:zt()}}),e),O.reset(),Xt.forEach(e=>e.lock()),e=document,t={mirror:Zr,blockClass:p,blockSelector:m,maskTextClass:g,maskTextSelector:f,inlineStylesheet:b,maskAllInputs:k,maskTextFn:w,slimDOM:S,dataURLOptions:y,recordCanvas:v,inlineImages:I,onSerialize:e=>{Bt(e,Zr)&&F.addIframe(e),Wt(e,Zr)&&O.trackLinkElement(e),Gt(e)&&D.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{F.attachIframe(e,t),D.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{O.attachLinkElement(e,t)},keepIframeSrcFn:_},r=void 0===(r=(t=t||{}).mirror)?new dt:r,i=t.blockClass,a=t.blockSelector,n=t.maskTextClass,o=t.maskTextSelector,s=t.inlineStylesheet,l=t.inlineImages,d=t.recordCanvas,c=void 0!==(c=t.maskAllInputs)&&c,h=void 0!==(h=t.slimDOM)&&h,u=t.keepIframeSrcFn;var t,r,i,a,n,o,s,l,d,c,h,u,e=Mt(e,{doc:e,mirror:r,blockClass:void 0===i?"rr-block":i,blockSelector:void 0===a?null:a,maskTextClass:void 0===n?"rr-mask":n,maskTextSelector:void 0===o?null:o,skipChild:!1,inlineStylesheet:void 0===s||s,maskInputOptions:!0===c?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===c?{password:!0}:c,maskTextFn:t.maskTextFn,maskInputFn:t.maskInputFn,slimDOMOptions:!0===h||"all"===h?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===h,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===h?{}:h,dataURLOptions:t.dataURLOptions,inlineImages:void 0!==l&&l,recordCanvas:void 0!==d&&d,preserveWhiteSpace:t.preserveWhiteSpace,onSerialize:t.onSerialize,onIframeLoad:t.onIframeLoad,iframeLoadTimeout:t.iframeLoadTimeout,onStylesheetLoad:t.onStylesheetLoad,stylesheetLoadTimeout:t.stylesheetLoadTimeout,keepIframeSrcFn:void 0===u?function(){return!1}:u,newlyAddedElement:!1});if(!e)return console.warn("Failed to snapshot the document");Y(H({type:V.FullSnapshot,data:{node:e,initialOffset:{left:void 0!==window.pageXOffset?window.pageXOffset:(null==document?void 0:document.documentElement.scrollLeft)||(null==(i=null==(r=null==document?void 0:document.body)?void 0:r.parentElement)?void 0:i.scrollLeft)||(null==(a=null==document?void 0:document.body)?void 0:a.scrollLeft)||0,top:void 0!==window.pageYOffset?window.pageYOffset:(null==document?void 0:document.documentElement.scrollTop)||(null==(o=null==(n=null==document?void 0:document.body)?void 0:n.parentElement)?void 0:o.scrollTop)||(null==(s=null==document?void 0:document.body)?void 0:s.scrollTop)||0}}})),Xt.forEach(e=>e.unlock()),document.adoptedStyleSheets&&0<document.adoptedStyleSheets.length&&O.adoptStyleSheets(document.adoptedStyleSheets,Zr.getId(document))};try{let t=[],r=(t.push(G("DOMContentLoaded",()=>{Y(H({type:V.DomContentLoaded,data:{}}))})),e=>pr({mutationCb:E,mousemoveCb:(e,t)=>Y(H({type:V.IncrementalSnapshot,data:{source:t,positions:e}})),mouseInteractionCb:e=>Y(H({type:V.IncrementalSnapshot,data:Object.assign({source:K.MouseInteraction},e)})),scrollCb:T,viewportResizeCb:e=>Y(H({type:V.IncrementalSnapshot,data:Object.assign({source:K.ViewportResize},e)})),inputCb:e=>Y(H({type:V.IncrementalSnapshot,data:Object.assign({source:K.Input},e)})),mediaInteractionCb:e=>Y(H({type:V.IncrementalSnapshot,data:Object.assign({source:K.MediaInteraction},e)})),styleSheetRuleCb:e=>Y(H({type:V.IncrementalSnapshot,data:Object.assign({source:K.StyleSheetRule},e)})),styleDeclarationCb:e=>Y(H({type:V.IncrementalSnapshot,data:Object.assign({source:K.StyleDeclaration},e)})),canvasMutationCb:M,fontCb:e=>Y(H({type:V.IncrementalSnapshot,data:Object.assign({source:K.Font},e)})),selectionCb:e=>{Y(H({type:V.IncrementalSnapshot,data:Object.assign({source:K.Selection},e)}))},blockClass:p,ignoreClass:z,maskTextClass:g,maskTextSelector:f,maskInputOptions:k,inlineStylesheet:b,sampling:l,recordCanvas:v,inlineImages:I,userTriggeredOnInput:Z,collectFonts:B,doc:e,maskInputFn:o,maskTextFn:w,keepIframeSrcFn:_,blockSelector:m,slimDOMOptions:S,dataURLOptions:y,mirror:Zr,iframeManager:F,stylesheetManager:O,shadowDomManager:D,canvasManager:Lr,ignoreCSSAttributes:W,plugins:(null==(e=null==h?void 0:h.filter(e=>e.observer))?void 0:e.map(t=>({observer:t.observer,options:t.options,callback:e=>Y(H({type:V.Plugin,data:{plugin:t.name,payload:e}}))})))||[]},U)),e=(F.addLoadListener(e=>{t.push(r(e.contentDocument))}),()=>{zr(),t.push(r(document)),Ur=!0});return"interactive"===document.readyState||"complete"===document.readyState?e():t.push(G("load",()=>{Y(H({type:V.Load,data:{}})),e()},window)),()=>{t.forEach(e=>e()),Ur=!1}}catch(e){console.warn(e)}}Br.addCustomEvent=(e,t)=>{if(!Ur)throw new Error("please add custom event after start recording");Y(H({type:V.Custom,data:{tag:e,payload:t}}))},Br.freezePage=()=>{Xt.forEach(e=>e.freeze())},Br.takeFullSnapshot=e=>{if(!Ur)throw new Error("please take full snapshot after start recording");zr(e)},Br.mirror=Zr;let Wr=0,Gr=1;function Vr(e){let t=e.length;for(;0<=--t;)e[t]=0}let Kr=29,Hr=256,Yr=Hr+1+Kr,jr=30,Pr=19,Jr=2*Yr+1,qr=15,Qr=16,Xr=7,$r=256,ei=16,ti=17,ri=18,ii=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ai=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ni=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),oi=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);let si=new Array(2*(Yr+2)),li=(Vr(si),new Array(2*jr)),di=(Vr(li),new Array(512)),ci=(Vr(di),new Array(256)),hi=(Vr(ci),new Array(Kr)),ui=(Vr(hi),new Array(jr));function pi(e,t,r,i,a){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=i,this.max_length=a,this.has_stree=e&&e.length}Vr(ui);let mi,gi,fi;function bi(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}let wi=e=>e<256?di[e]:di[256+(e>>>7)],yi=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},c=(e,t,r)=>{e.bi_valid>Qr-r?(e.bi_buf|=t<<e.bi_valid&65535,yi(e,e.bi_buf),e.bi_buf=t>>Qr-e.bi_valid,e.bi_valid+=r-Qr):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},vi=(e,t,r)=>{c(e,r[2*t],r[2*t+1])},Ii=(e,t)=>{let r=0;for(;r|=1&e,e>>>=1,r<<=1,0<--t;);return r>>>1},_i=(e,t)=>{var r,i=t.dyn_tree,a=t.max_code,n=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,d=t.stat_desc.max_length;let c,h,u,p,m,g=0;for(p=0;p<=qr;p++)e.bl_count[p]=0;for(i[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<Jr;c++)h=e.heap[c],(p=i[2*i[2*h+1]+1]+1)>d&&(p=d,g++),i[2*h+1]=p,h>a||(e.bl_count[p]++,m=0,h>=l&&(m=s[h-l]),r=i[2*h],e.opt_len+=r*(p+m),o&&(e.static_len+=r*(n[2*h+1]+m)));if(0!==g){do{for(p=d-1;0===e.bl_count[p];)p--}while(e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[d]--,0<(g-=2));for(p=d;0!==p;p--)for(h=e.bl_count[p];0!==h;)a<(u=e.heap[--c])||(i[2*u+1]!==p&&(e.opt_len+=(p-i[2*u+1])*i[2*u],i[2*u+1]=p),h--)}},Ci=(e,t,r)=>{var i=new Array(qr+1);let a=0,n,o;for(n=1;n<=qr;n++)a=a+r[n-1]<<1,i[n]=a;for(o=0;o<=t;o++){var s=e[2*o+1];0!==s&&(e[2*o]=Ii(i[s]++,s))}},ki=e=>{let t;for(t=0;t<Yr;t++)e.dyn_ltree[2*t]=0;for(t=0;t<jr;t++)e.dyn_dtree[2*t]=0;for(t=0;t<Pr;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*$r]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Si=e=>{8<e.bi_valid?yi(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Ai=(e,t,r,i)=>{var a=2*t,n=2*r;return e[a]<e[n]||e[a]===e[n]&&i[t]<=i[r]},xi=(e,t,r)=>{var i=e.heap[r];let a=r<<1;for(;a<=e.heap_len&&(a<e.heap_len&&Ai(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!Ai(t,i,e.heap[a],e.depth));)e.heap[r]=e.heap[a],r=a,a<<=1;e.heap[r]=i},Ri=(e,t,r)=>{var i,a,n,o;let s=0;if(0!==e.sym_next)for(;i=255&e.pending_buf[e.sym_buf+s++],i+=(255&e.pending_buf[e.sym_buf+s++])<<8,a=e.pending_buf[e.sym_buf+s++],0==i?vi(e,a,t):(n=ci[a],vi(e,n+Hr+1,t),0!==(o=ii[n])&&(a-=hi[n],c(e,a,o)),i--,n=wi(i),vi(e,n,r),0!==(o=ai[n])&&(i-=ui[n],c(e,i,o))),s<e.sym_next;);vi(e,$r,t)},Ei=(e,t)=>{var r=t.dyn_tree,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,n=t.stat_desc.elems;let o,s,l=-1,d;for(e.heap_len=0,e.heap_max=Jr,o=0;o<n;o++)0!==r[2*o]?(e.heap[++e.heap_len]=l=o,e.depth[o]=0):r[2*o+1]=0;for(;e.heap_len<2;)r[2*(d=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[d]=0,e.opt_len--,a&&(e.static_len-=i[2*d+1]);for(t.max_code=l,o=e.heap_len>>1;1<=o;o--)xi(e,r,o);for(d=n;o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],xi(e,r,1),s=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=s,r[2*d]=r[2*o]+r[2*s],e.depth[d]=(e.depth[o]>=e.depth[s]?e.depth[o]:e.depth[s])+1,r[2*o+1]=r[2*s+1]=d,e.heap[1]=d++,xi(e,r,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],_i(e,t),Ci(r,l,e.bl_count)},Ti=(e,t,r)=>{let i,a=-1;var n;let o=t[1],s=0,l=7,d=4;for(0===o&&(l=138,d=3),t[2*(r+1)+1]=65535,i=0;i<=r;i++)n=o,o=t[2*(i+1)+1],++s<l&&n===o||(s<d?e.bl_tree[2*n]+=s:0!==n?(n!==a&&e.bl_tree[2*n]++,e.bl_tree[2*ei]++):s<=10?e.bl_tree[2*ti]++:e.bl_tree[2*ri]++,s=0,a=n,d=0===o?(l=138,3):n===o?(l=6,3):(l=7,4))},Mi=(e,t,r)=>{let i,a=-1;var n;let o=t[1],s=0,l=7,d=4;for(0===o&&(l=138,d=3),i=0;i<=r;i++)if(n=o,o=t[2*(i+1)+1],!(++s<l&&n===o)){if(s<d)for(;vi(e,n,e.bl_tree),0!=--s;);else 0!==n?(n!==a&&(vi(e,n,e.bl_tree),s--),vi(e,ei,e.bl_tree),c(e,s-3,2)):s<=10?(vi(e,ti,e.bl_tree),c(e,s-3,3)):(vi(e,ri,e.bl_tree),c(e,s-11,7));s=0,a=n,d=0===o?(l=138,3):n===o?(l=6,3):(l=7,4)}},Ni=!1;let Oi=(e,t,r,i)=>{c(e,0+(i?1:0),3),Si(e),yi(e,r),yi(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r};var Ae={_tr_init:e=>{Ni||((()=>{let e,t,r,i,a;var n=new Array(qr+1);for(r=0,i=0;i<Kr-1;i++)for(hi[i]=r,e=0;e<1<<ii[i];e++)ci[r++]=i;for(ci[r-1]=i,a=0,i=0;i<16;i++)for(ui[i]=a,e=0;e<1<<ai[i];e++)di[a++]=i;for(a>>=7;i<jr;i++)for(ui[i]=a<<7,e=0;e<1<<ai[i]-7;e++)di[256+a++]=i;for(t=0;t<=qr;t++)n[t]=0;for(e=0;e<=143;)si[2*e+1]=8,e++,n[8]++;for(;e<=255;)si[2*e+1]=9,e++,n[9]++;for(;e<=279;)si[2*e+1]=7,e++,n[7]++;for(;e<=287;)si[2*e+1]=8,e++,n[8]++;for(Ci(si,Yr+1,n),e=0;e<jr;e++)li[2*e+1]=5,li[2*e]=Ii(e,5);mi=new pi(si,ii,Hr+1,Yr,qr),gi=new pi(li,ai,0,jr,qr),fi=new pi(new Array(0),ni,0,Pr,Xr)})(),Ni=!0),e.l_desc=new bi(e.dyn_ltree,mi),e.d_desc=new bi(e.dyn_dtree,gi),e.bl_desc=new bi(e.bl_tree,fi),e.bi_buf=0,e.bi_valid=0,ki(e)},_tr_stored_block:Oi,_tr_flush_block:(e,t,r,i)=>{let a,n,o=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(1&t&&0!==e.dyn_ltree[2*r])return Wr;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return Gr;for(r=32;r<Hr;r++)if(0!==e.dyn_ltree[2*r])return Gr;return Wr})(e)),Ei(e,e.l_desc),Ei(e,e.d_desc),o=(e=>{let t;for(Ti(e,e.dyn_ltree,e.l_desc.max_code),Ti(e,e.dyn_dtree,e.d_desc.max_code),Ei(e,e.bl_desc),t=Pr-1;3<=t&&0===e.bl_tree[2*oi[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),a=e.opt_len+3+7>>>3,(n=e.static_len+3+7>>>3)<=a&&(a=n)):a=n=r+5,r+4<=a&&-1!==t?Oi(e,t,r,i):4===e.strategy||n===a?(c(e,2+(i?1:0),3),Ri(e,si,li)):(c(e,4+(i?1:0),3),((e,t,r,i)=>{let a;for(c(e,t-257,5),c(e,r-1,5),c(e,i-4,4),a=0;a<i;a++)c(e,e.bl_tree[2*oi[a]+1],3);Mi(e,e.dyn_ltree,t-1),Mi(e,e.dyn_dtree,r-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),Ri(e,e.dyn_ltree,e.dyn_dtree)),ki(e),i&&Si(e)},_tr_tally:(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(ci[r]+Hr+1)]++,e.dyn_dtree[2*wi(t)]++),e.sym_next===e.sym_end),_tr_align:e=>{c(e,2,3),vi(e,$r,si),16===(e=e).bi_valid?(yi(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},Fi=(e,t,r,i)=>{let a=65535&e|0,n=e>>>16&65535|0,o=0;for(;0!==r;){for(r-=o=2e3<r?2e3:r;a=a+t[i++]|0,n=n+a|0,--o;);a%=65521,n%=65521}return a|n<<16|0};let Di=new Uint32Array((()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t})());var j=(t,r,e,i)=>{var a=Di,n=i+e;t^=-1;for(let e=i;e<n;e++)t=t>>>8^a[255&(t^r[e])];return-1^t},zi={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Se={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:Li,_tr_stored_block:Ui,_tr_flush_block:Zi,_tr_tally:Bi,_tr_align:Wi}=Ae,{Z_NO_FLUSH:Gi,Z_PARTIAL_FLUSH:Vi,Z_FULL_FLUSH:Ki,Z_FINISH:Hi,Z_BLOCK:Yi,Z_OK:d,Z_STREAM_END:ji,Z_STREAM_ERROR:Pi,Z_DATA_ERROR:Ji,Z_BUF_ERROR:qi,Z_DEFAULT_COMPRESSION:Qi,Z_FILTERED:Xi,Z_HUFFMAN_ONLY:$i,Z_RLE:ea,Z_FIXED:ta,Z_DEFAULT_STRATEGY:ra,Z_UNKNOWN:ia,Z_DEFLATED:aa}=Se,na=9;let oa=286,sa=30,la=19,da=2*oa+1,ca=15,I=3,ha=258,ua=ha+I+1,pa=42,ma=57,ga=69,fa=73,ba=91,wa=103,ya=113,va=666,_=1,Ia=2,_a=3,Ca=4,ka=(e,t)=>(e.msg=zi[t],t),Sa=e=>2*e-(4<e?9:0),Aa=e=>{let t=e.length;for(;0<=--t;)e[t]=0},xa=e=>{let t,r,i;var a=e.w_size;for(t=e.hash_size,i=t;r=e.head[--i],e.head[i]=r>=a?r-a:0,--t;);for(t=a,i=t;r=e.prev[--i],e.prev[i]=r>=a?r-a:0,--t;);};let Ra=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,C=e=>{var t=e.state;let r=t.pending;0!==(r=r>e.avail_out?e.avail_out:r)&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending)&&(t.pending_out=0)},k=(e,t)=>{Zi(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,C(e.strm)},S=(e,t)=>{e.pending_buf[e.pending++]=t},Ea=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Ta=(e,t,r,i)=>{let a=e.avail_in;return 0===(a=a>i?i:a)?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),r),1===e.state.wrap?e.adler=Fi(e.adler,t,a,r):2===e.state.wrap&&(e.adler=j(e.adler,t,a,r)),e.next_in+=a,e.total_in+=a,a)},Ma=(e,t)=>{let r=e.max_chain_length,i=e.strstart,a;var n;let o=e.prev_length,s=e.nice_match;var l=e.strstart>e.w_size-ua?e.strstart-(e.w_size-ua):0,d=e.window,c=e.w_mask,h=e.prev,u=e.strstart+ha;let p=d[i+o-1],m=d[i+o];e.good_match<=e.prev_length&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(d[(a=t)+o]===m&&d[a+o-1]===p&&d[a]===d[i]&&d[++a]===d[i+1]){for(i+=2,a++;d[++i]===d[++a]&&d[++i]===d[++a]&&d[++i]===d[++a]&&d[++i]===d[++a]&&d[++i]===d[++a]&&d[++i]===d[++a]&&d[++i]===d[++a]&&d[++i]===d[++a]&&i<u;);if(n=ha-(u-i),i=u-ha,n>o){if(e.match_start=t,(o=n)>=s)break;p=d[i+o-1],m=d[i+o]}}}while((t=h[t&c])>l&&0!=--r);return o<=e.lookahead?o:e.lookahead},Na=e=>{var t=e.w_size;let r,i,a;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-ua)&&(e.window.set(e.window.subarray(t,t+t-i),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.strstart<e.insert&&(e.insert=e.strstart),xa(e),i+=t),0===e.strm.avail_in)break;if(r=Ta(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=r,e.lookahead+e.insert>=I)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=Ra(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=Ra(e,e.ins_h,e.window[a+I-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<I)););}while(e.lookahead<ua&&0!==e.strm.avail_in)},Oa=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,i,a,n,o=0;for(var s=e.strm.avail_in;i=65535,n=e.bi_valid+42>>3,!(e.strm.avail_out<n||(n=e.strm.avail_out-n,a=e.strstart-e.block_start,(i=(i=i>a+e.strm.avail_in?a+e.strm.avail_in:i)>n?n:i)<r&&(0===i&&t!==Hi||t===Gi||i!==a+e.strm.avail_in))||(o=t===Hi&&i===a+e.strm.avail_in?1:0,Ui(e,0,0,o),e.pending_buf[e.pending-4]=i,e.pending_buf[e.pending-3]=i>>8,e.pending_buf[e.pending-2]=~i,e.pending_buf[e.pending-1]=~i>>8,C(e.strm),a&&(a>i&&(a=i),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+a),e.strm.next_out),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a,e.block_start+=a,i-=a),i&&(Ta(e.strm,e.strm.output,e.strm.next_out,i),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i),0!==o)););return(s-=e.strm.avail_in)&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.strstart<e.insert)&&(e.insert=e.strstart),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=e.w_size-e.insert<s?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?Ca:t!==Gi&&t!==Hi&&0===e.strm.avail_in&&e.strstart===e.block_start?Ia:(n=e.window_size-e.strstart,e.strm.avail_in>n&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,n+=e.w_size,e.strstart<e.insert)&&(e.insert=e.strstart),(n=n>e.strm.avail_in?e.strm.avail_in:n)&&(Ta(e.strm,e.window,e.strstart,n),e.strstart+=n,e.insert+=n>e.w_size-e.insert?e.w_size-e.insert:n),e.high_water<e.strstart&&(e.high_water=e.strstart),n=e.bi_valid+42>>3,n=65535<e.pending_buf_size-n?65535:e.pending_buf_size-n,r=n>e.w_size?e.w_size:n,((a=e.strstart-e.block_start)>=r||(a||t===Hi)&&t!==Gi&&0===e.strm.avail_in&&a<=n)&&(i=a>n?n:a,o=t===Hi&&0===e.strm.avail_in&&i===a?1:0,Ui(e,e.block_start,i,o),e.block_start+=i,C(e.strm)),o?_a:_)};Ce=(e,t)=>{let r,i;for(;;){if(e.lookahead<ua){if(Na(e),e.lookahead<ua&&t===Gi)return _;if(0===e.lookahead)break}if(r=0,e.lookahead>=I&&(e.ins_h=Ra(e,e.ins_h,e.window[e.strstart+I-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-ua&&(e.match_length=Ma(e,r)),e.match_length>=I)if(i=Bi(e,e.strstart-e.match_start,e.match_length-I),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=I){for(e.match_length--;e.strstart++,e.ins_h=Ra(e,e.ins_h,e.window[e.strstart+I-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Ra(e,e.ins_h,e.window[e.strstart+1]);else i=Bi(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(k(e,!1),0===e.strm.avail_out))return _}return e.insert=e.strstart<I-1?e.strstart:I-1,t===Hi?(k(e,!0),0===e.strm.avail_out?_a:Ca):e.sym_next&&(k(e,!1),0===e.strm.avail_out)?_:Ia},r=(e,t)=>{let r,i;for(var a;;){if(e.lookahead<ua){if(Na(e),e.lookahead<ua&&t===Gi)return _;if(0===e.lookahead)break}if(r=0,e.lookahead>=I&&(e.ins_h=Ra(e,e.ins_h,e.window[e.strstart+I-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=I-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-ua&&(e.match_length=Ma(e,r),e.match_length<=5)&&(e.strategy===Xi||e.match_length===I&&4096<e.strstart-e.match_start)&&(e.match_length=I-1),e.prev_length>=I&&e.match_length<=e.prev_length){for(a=e.strstart+e.lookahead-I,i=Bi(e,e.strstart-1-e.prev_match,e.prev_length-I),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=a&&(e.ins_h=Ra(e,e.ins_h,e.window[e.strstart+I-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=I-1,e.strstart++,i&&(k(e,!1),0===e.strm.avail_out))return _}else if(e.match_available){if((i=Bi(e,0,e.window[e.strstart-1]))&&k(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return _}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=Bi(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<I-1?e.strstart:I-1,t===Hi?(k(e,!0),0===e.strm.avail_out?_a:Ca):e.sym_next&&(k(e,!1),0===e.strm.avail_out)?_:Ia};function Fa(e,t,r,i,a){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=i,this.func=a}let Da=[new Fa(0,0,0,0,Oa),new Fa(4,4,8,4,Ce),new Fa(4,5,16,8,Ce),new Fa(4,6,32,32,Ce),new Fa(4,4,16,16,r),new Fa(8,16,32,32,r),new Fa(8,16,128,128,r),new Fa(8,32,128,256,r),new Fa(32,128,258,1024,r),new Fa(32,258,258,4096,r)],za=e=>{e.window_size=2*e.w_size,Aa(e.head),e.max_lazy_match=Da[e.level].max_lazy,e.good_match=Da[e.level].good_length,e.nice_match=Da[e.level].nice_length,e.max_chain_length=Da[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=I-1,e.match_available=0,e.ins_h=0};function La(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=aa,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*da),this.dyn_dtree=new Uint16Array(2*(2*sa+1)),this.bl_tree=new Uint16Array(2*(2*la+1)),Aa(this.dyn_ltree),Aa(this.dyn_dtree),Aa(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(ca+1),this.heap=new Uint16Array(2*oa+1),Aa(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*oa+1),Aa(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let Ua=e=>{var t;return!e||!(t=e.state)||t.strm!==e||t.status!==pa&&t.status!==ma&&t.status!==ga&&t.status!==fa&&t.status!==ba&&t.status!==wa&&t.status!==ya&&t.status!==va?1:0},Za=e=>{if(Ua(e))return ka(e,Pi);e.total_in=e.total_out=0,e.data_type=ia;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?ma:t.wrap?pa:ya,e.adler=2===t.wrap?0:1,t.last_flush=-2,Li(t),d},Ba=e=>{var t=Za(e);return t===d&&za(e.state),t};let Wa=(e,t,r,i,a,n)=>{if(!e)return Pi;let o=1;if(t===Qi&&(t=6),i<0?(o=0,i=-i):15<i&&(o=2,i-=16),a<1||a>na||r!==aa||i<8||15<i||t<0||9<t||n<0||n>ta||8===i&&1!==o)return ka(e,Pi);8===i&&(i=9);var s=new La;return(e.state=s).strm=e,s.status=pa,s.wrap=o,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=a+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+I-1)/I),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<a+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=t,s.strategy=n,s.method=r,Ba(e)};var Ga={deflateInit:(e,t)=>Wa(e,t,aa,15,8,ra),deflateInit2:Wa,deflateReset:Ba,deflateResetKeep:Za,deflateSetHeader:(e,t)=>Ua(e)||2!==e.state.wrap?Pi:(e.state.gzhead=t,d),deflate:(r,e)=>{if(Ua(r)||e>Yi||e<0)return r?ka(r,Pi):Pi;var i=r.state;if(!r.output||0!==r.avail_in&&!r.input||i.status===va&&e!==Hi)return ka(r,0===r.avail_out?qi:Pi);var a=i.last_flush;if(i.last_flush=e,0!==i.pending){if(C(r),0===r.avail_out)return i.last_flush=-1,d}else if(0===r.avail_in&&Sa(e)<=Sa(a)&&e!==Hi)return ka(r,qi);if(i.status===va&&0!==r.avail_in)return ka(r,qi);if(i.status===pa&&0===i.wrap&&(i.status=ya),i.status===pa){let e=aa+(i.w_bits-8<<4)<<8,t=-1;if(t=i.strategy>=$i||i.level<2?0:i.level<6?1:6===i.level?2:3,e|=t<<6,0!==i.strstart&&(e|=32),e+=31-e%31,Ea(i,e),0!==i.strstart&&(Ea(i,r.adler>>>16),Ea(i,65535&r.adler)),r.adler=1,i.status=ya,C(r),0!==i.pending)return i.last_flush=-1,d}if(i.status===ma)if(r.adler=0,S(i,31),S(i,139),S(i,8),i.gzhead)S(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),S(i,255&i.gzhead.time),S(i,i.gzhead.time>>8&255),S(i,i.gzhead.time>>16&255),S(i,i.gzhead.time>>24&255),S(i,9===i.level?2:i.strategy>=$i||i.level<2?4:0),S(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(S(i,255&i.gzhead.extra.length),S(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(r.adler=j(r.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=ga;else if(S(i,0),S(i,0),S(i,0),S(i,0),S(i,0),S(i,9===i.level?2:i.strategy>=$i||i.level<2?4:0),S(i,3),i.status=ya,C(r),0!==i.pending)return i.last_flush=-1,d;if(i.status===ga){if(i.gzhead.extra){let e=i.pending,t=(65535&i.gzhead.extra.length)-i.gzindex;for(;i.pending+t>i.pending_buf_size;){var n=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+n),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>e&&(r.adler=j(r.adler,i.pending_buf,i.pending-e,e)),i.gzindex+=n,C(r),0!==i.pending)return i.last_flush=-1,d;e=0,t-=n}a=new Uint8Array(i.gzhead.extra);i.pending_buf.set(a.subarray(i.gzindex,i.gzindex+t),i.pending),i.pending+=t,i.gzhead.hcrc&&i.pending>e&&(r.adler=j(r.adler,i.pending_buf,i.pending-e,e)),i.gzindex=0}i.status=fa}if(i.status===fa){if(i.gzhead.name){let e=i.pending,t;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>e&&(r.adler=j(r.adler,i.pending_buf,i.pending-e,e)),C(r),0!==i.pending)return i.last_flush=-1,d;e=0}}while(t=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,S(i,t),0!==t);i.gzhead.hcrc&&i.pending>e&&(r.adler=j(r.adler,i.pending_buf,i.pending-e,e)),i.gzindex=0}i.status=ba}if(i.status===ba){if(i.gzhead.comment){let e=i.pending,t;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>e&&(r.adler=j(r.adler,i.pending_buf,i.pending-e,e)),C(r),0!==i.pending)return i.last_flush=-1,d;e=0}}while(t=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,S(i,t),0!==t);i.gzhead.hcrc&&i.pending>e&&(r.adler=j(r.adler,i.pending_buf,i.pending-e,e))}i.status=wa}if(i.status===wa){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(C(r),0!==i.pending))return i.last_flush=-1,d;S(i,255&r.adler),S(i,r.adler>>8&255),r.adler=0}if(i.status=ya,C(r),0!==i.pending)return i.last_flush=-1,d}if(0!==r.avail_in||0!==i.lookahead||e!==Gi&&i.status!==va){a=0===i.level?Oa(i,e):i.strategy===$i?((e,t)=>{for(var r;;){if(0===e.lookahead&&(Na(e),0===e.lookahead)){if(t===Gi)return _;break}if(e.match_length=0,r=Bi(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(k(e,!1),0===e.strm.avail_out))return _}return e.insert=0,t===Hi?(k(e,!0),0===e.strm.avail_out?_a:Ca):e.sym_next&&(k(e,!1),0===e.strm.avail_out)?_:Ia})(i,e):i.strategy===ea?((e,t)=>{let r;var i;let a,n;for(var o=e.window;;){if(e.lookahead<=ha){if(Na(e),e.lookahead<=ha&&t===Gi)return _;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=I&&0<e.strstart&&(i=o[a=e.strstart-1])===o[++a]&&i===o[++a]&&i===o[++a]){for(n=e.strstart+ha;i===o[++a]&&i===o[++a]&&i===o[++a]&&i===o[++a]&&i===o[++a]&&i===o[++a]&&i===o[++a]&&i===o[++a]&&a<n;);e.match_length=ha-(n-a),e.lookahead<e.match_length&&(e.match_length=e.lookahead)}if(e.match_length>=I?(r=Bi(e,1,e.match_length-I),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Bi(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(k(e,!1),0===e.strm.avail_out))return _}return e.insert=0,t===Hi?(k(e,!0),0===e.strm.avail_out?_a:Ca):e.sym_next&&(k(e,!1),0===e.strm.avail_out)?_:Ia})(i,e):Da[i.level].func(i,e);if(a!==_a&&a!==Ca||(i.status=va),a===_||a===_a)return 0===r.avail_out&&(i.last_flush=-1),d;if(a===Ia&&(e===Vi?Wi(i):e!==Yi&&(Ui(i,0,0,!1),e===Ki)&&(Aa(i.head),0===i.lookahead)&&(i.strstart=0,i.block_start=0,i.insert=0),C(r),0===r.avail_out))return i.last_flush=-1,d}return e!==Hi||!(i.wrap<=0)&&(2===i.wrap?(S(i,255&r.adler),S(i,r.adler>>8&255),S(i,r.adler>>16&255),S(i,r.adler>>24&255),S(i,255&r.total_in),S(i,r.total_in>>8&255),S(i,r.total_in>>16&255),S(i,r.total_in>>24&255)):(Ea(i,r.adler>>>16),Ea(i,65535&r.adler)),C(r),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending)?d:ji},deflateEnd:e=>{var t;return Ua(e)?Pi:(t=e.state.status,e.state=null,t===ya?ka(e,Ji):d)},deflateSetDictionary:(e,t)=>{let r=t.length;if(Ua(e))return Pi;var i=e.state,a=i.wrap;if(2===a||1===a&&i.status!==pa||i.lookahead)return Pi;1===a&&(e.adler=Fi(e.adler,t,r,0)),i.wrap=0,r>=i.w_size&&(0===a&&(Aa(i.head),i.strstart=0,i.block_start=0,i.insert=0),(n=new Uint8Array(i.w_size)).set(t.subarray(r-i.w_size,r),0),t=n,r=i.w_size);var n=e.avail_in,o=e.next_in,s=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Na(i);i.lookahead>=I;){let e=i.strstart,t=i.lookahead-(I-1);for(;i.ins_h=Ra(i,i.ins_h,i.window[e+I-1]),i.prev[e&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=e,e++,--t;);i.strstart=e,i.lookahead=I-1,Na(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=I-1,i.match_available=0,e.next_in=o,e.input=s,e.avail_in=n,i.wrap=a,d},deflateInfo:"pako deflate (from Nodeca project)"};var Va=function(e){for(var t,r,i=Array.prototype.slice.call(arguments,1);i.length;){var a=i.shift();if(a){if("object"!=typeof a)throw new TypeError(a+"must be non-object");for(var n in a)t=a,r=n,Object.prototype.hasOwnProperty.call(t,r)&&(e[n]=a[n])}}return e},Ka=i=>{let r=0;for(let e=0,t=i.length;e<t;e++)r+=i[e].length;var a=new Uint8Array(r);for(let e=0,t=0,r=i.length;e<r;e++){var n=i[e];a.set(n,t),t+=n.length}return a};let Ha=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){Ha=!1}let Ya=new Uint8Array(256);for(let e=0;e<256;e++)Ya[e]=252<=e?6:248<=e?5:240<=e?4:224<=e?3:192<=e?2:1;Ya[254]=Ya[254]=1;var ja=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,r,i,a,n,o=e.length,s=0;for(a=0;a<o;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<o&&56320==(64512&(i=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(i-56320),a++),s+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(s),n=0,a=0;n<s;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<o&&56320==(64512&(i=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(i-56320),a++),r<128?t[n++]=r:(r<2048?t[n++]=192|r>>>6:(r<65536?t[n++]=224|r>>>12:(t[n++]=240|r>>>18,t[n++]=128|r>>>12&63),t[n++]=128|r>>>6&63),t[n++]=128|63&r);return t},Pa=(r,e)=>{var i=e||r.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(r.subarray(0,e));let a,n;var o=new Array(2*i);for(n=0,a=0;a<i;){let t=r[a++];if(t<128)o[n++]=t;else{let e=Ya[t];if(4<e)o[n++]=65533,a+=e-1;else{for(t&=2===e?31:3===e?15:7;1<e&&a<i;)t=t<<6|63&r[a++],e--;1<e?o[n++]=65533:t<65536?o[n++]=t:(t-=65536,o[n++]=55296|t>>10&1023,o[n++]=56320|1023&t)}}}return((t,r)=>{if(r<65534&&t.subarray&&Ha)return String.fromCharCode.apply(null,t.length===r?t:t.subarray(0,r));let i="";for(let e=0;e<r;e++)i+=String.fromCharCode(t[e]);return i})(o,n)},Ja=(e,t)=>{let r=(t=(t=t||e.length)>e.length?e.length:t)-1;for(;0<=r&&128==(192&e[r]);)r--;return!(r<0)&&0!==r&&r+Ya[e[r]]>t?r:t};var qa=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};let Qa=Object.prototype.toString,{Z_NO_FLUSH:Xa,Z_SYNC_FLUSH:$a,Z_FULL_FLUSH:en,Z_FINISH:tn,Z_OK:rn,Z_STREAM_END:an,Z_DEFAULT_COMPRESSION:nn,Z_DEFAULT_STRATEGY:on,Z_DEFLATED:sn}=Se;function ln(t){this.options=Va({level:nn,method:sn,chunkSize:16384,windowBits:15,memLevel:8,strategy:on},t||{});var t=this.options,r=(t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qa,this.strm.avail_out=0,Ga.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy));if(r!==rn)throw new Error(zi[r]);if(t.header&&Ga.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?ja(t.dictionary):"[object ArrayBuffer]"===Qa.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=Ga.deflateSetDictionary(this.strm,e))!==rn)throw new Error(zi[r]);this._dict_set=!0}}function dn(e,t){t=new ln(t);if(t.push(e,!0),t.err)throw t.msg||zi[t.err];return t.result}ln.prototype.push=function(e,t){var r=this.strm,i=this.options.chunkSize;let a,n;if(this.ended)return!1;for(n=t===~~t?t:!0===t?tn:Xa,"string"==typeof e?r.input=ja(e):"[object ArrayBuffer]"===Qa.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),(n===$a||n===en)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(Ga.deflate(r,n)===an)return 0<r.next_out&&this.onData(r.output.subarray(0,r.next_out)),a=Ga.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===rn;if(0===r.avail_out)this.onData(r.output);else if(0<n&&0<r.next_out)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}return!0},ln.prototype.onData=function(e){this.chunks.push(e)},ln.prototype.onEnd=function(e){e===rn&&(this.result=Ka(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function cn(e,t){return(t=t||{}).raw=!0,dn(e,t)}function hn(e,t){return(t=t||{}).gzip=!0,dn(e,t)}let un=ln,pn=dn,mn={Deflate:un,deflate:pn,deflateRaw:cn,gzip:hn},gn=16209,fn=16191;let bn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),wn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),yn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),vn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var In=(e,t,r,i,a,n,o,s)=>{var l,d=s.bits;let c=0,h=0,u=0,p=0,m=0,g=0,f=0,b=0,w=0,y=0,v,I,_,C,k=null,S;var A=new Uint16Array(16),x=new Uint16Array(16);let R=null,E,T,M;for(c=0;c<=15;c++)A[c]=0;for(h=0;h<i;h++)A[t[r+h]]++;for(m=d,p=15;1<=p&&0===A[p];p--);if(m>p&&(m=p),0===p)a[n++]=20971520,a[n++]=20971520,s.bits=1;else{for(u=1;u<p&&0===A[u];u++);for(m<u&&(m=u),b=1,c=1;c<=15;c++)if((b=(b<<=1)-A[c])<0)return-1;if(0<b&&(0===e||1!==p))return-1;for(x[1]=0,c=1;c<15;c++)x[c+1]=x[c]+A[c];for(h=0;h<i;h++)0!==t[r+h]&&(o[x[t[r+h]]++]=h);if(S=0===e?(k=R=o,20):1===e?(k=bn,R=wn,257):(k=yn,R=vn,0),y=0,h=0,c=u,C=n,g=m,f=0,_=-1,l=(w=1<<m)-1,1===e&&852<w||2===e&&592<w)return 1;for(;;){for(E=c-f,M=o[h]+1<S?(T=0,o[h]):o[h]>=S?(T=R[o[h]-S],k[o[h]-S]):(T=96,0),v=1<<c-f,I=1<<g,u=I;I-=v,a[C+(y>>f)+I]=E<<24|T<<16|M|0,0!==I;);for(v=1<<c-1;y&v;)v>>=1;if(y=0!==v?(y&=v-1)+v:0,h++,0==--A[c]){if(c===p)break;c=t[r+o[h]]}if(c>m&&(y&l)!==_){for(0===f&&(f=m),C+=u,g=c-f,b=1<<g;g+f<p&&!((b-=A[g+f])<=0);)g++,b<<=1;if(w+=1<<g,1===e&&852<w||2===e&&592<w)return 1;a[_=y&l]=m<<24|g<<16|C-n|0}}0!==y&&(a[C+y]=c-f<<24|64<<16|0),s.bits=m}return 0};let _n=1,Cn=2,{Z_FINISH:kn,Z_BLOCK:Sn,Z_TREES:An,Z_OK:xn,Z_STREAM_END:Rn,Z_NEED_DICT:En,Z_STREAM_ERROR:Tn,Z_DATA_ERROR:Mn,Z_MEM_ERROR:Nn,Z_BUF_ERROR:On,Z_DEFLATED:Fn}=Se,Dn=16180,zn=16190,Ln=16191,Un=16199,Zn=16200,P=16209,Bn=16211,Wn=852,Gn=592;let Vn=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Kn(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}let Hn=e=>{var t;return!e||!(t=e.state)||t.strm!==e||t.mode<Dn||t.mode>Bn?1:0},Yn=e=>{var t;return Hn(e)?Tn:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=Dn,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Wn),t.distcode=t.distdyn=new Int32Array(Gn),t.sane=1,t.back=-1,xn)},jn=e=>{var t;return Hn(e)?Tn:((t=e.state).wsize=0,t.whave=0,t.wnext=0,Yn(e))},Pn=(e,t)=>{let r;var i;return Hn(e)||(i=e.state,t<0?(r=0,t=-t):(r=5+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t))?Tn:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=r,i.wbits=t,jn(e))},Jn=(e,t)=>{var r;return e?(r=new Kn,(e.state=r).strm=e,r.window=null,r.mode=Dn,(r=Pn(e,t))!==xn&&(e.state=null),r):Tn};let qn=!0,Qn,Xn,$n=(e,t,r,i)=>{let a;e=e.state;return null===e.window&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new Uint8Array(e.wsize)),e.wsize<=i?(e.window.set(t.subarray(r-e.wsize,r),0),e.wnext=0,e.whave=e.wsize):((a=e.wsize-e.wnext)>i&&(a=i),e.window.set(t.subarray(r-i,r-i+a),e.wnext),(i-=a)?(e.window.set(t.subarray(r-i,r),0),e.wnext=i,e.whave=e.wsize):(e.wnext+=a,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=a))),0};var eo={inflateReset:jn,inflateReset2:Pn,inflateResetKeep:Yn,inflateInit:e=>Jn(e,15),inflateInit2:Jn,inflate:(d,e)=>{var t;let r,i,a,n,o,s,l,c,h,u,p,z,L,m=0,g,f,b,w,y,v,I,_;var C=new Uint8Array(4);let k,S;var A,U,x,Z,R,B,E,T,W,G,V,K,M,N,O,H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Hn(d)||!d.output||!d.input&&0!==d.avail_in)return Tn;(t=d.state).mode===Ln&&(t.mode=16192),n=d.next_out,i=d.output,s=d.avail_out,a=d.next_in,r=d.input,o=d.avail_in,l=t.hold,c=t.bits,h=o,u=s,_=xn;e:for(;;)switch(t.mode){case Dn:if(0===t.wrap)t.mode=16192;else{for(;c<16;){if(0===o)break e;o--,l+=r[a++]<<c,c+=8}2&t.wrap&&35615===l?(0===t.wbits&&(t.wbits=15),C[t.check=0]=255&l,C[1]=l>>>8&255,t.check=j(t.check,C,2,0),l=0,c=0,t.mode=16181):(t.head&&(t.head.done=!1),!(1&t.wrap)||(((255&l)<<8)+(l>>8))%31?(d.msg="incorrect header check",t.mode=P):(15&l)!==Fn?(d.msg="unknown compression method",t.mode=P):(l>>>=4,c-=4,I=8+(15&l),0===t.wbits&&(t.wbits=I),15<I||I>t.wbits?(d.msg="invalid window size",t.mode=P):(t.dmax=1<<t.wbits,t.flags=0,d.adler=t.check=1,t.mode=512&l?16189:Ln,l=0,c=0)))}break;case 16181:for(;c<16;){if(0===o)break e;o--,l+=r[a++]<<c,c+=8}if(t.flags=l,(255&t.flags)!==Fn){d.msg="unknown compression method",t.mode=P;break}if(57344&t.flags){d.msg="unknown header flags set",t.mode=P;break}t.head&&(t.head.text=l>>8&1),512&t.flags&&4&t.wrap&&(C[0]=255&l,C[1]=l>>>8&255,t.check=j(t.check,C,2,0)),l=0,c=0,t.mode=16182;case 16182:for(;c<32;){if(0===o)break e;o--,l+=r[a++]<<c,c+=8}t.head&&(t.head.time=l),512&t.flags&&4&t.wrap&&(C[0]=255&l,C[1]=l>>>8&255,C[2]=l>>>16&255,C[3]=l>>>24&255,t.check=j(t.check,C,4,0)),l=0,c=0,t.mode=16183;case 16183:for(;c<16;){if(0===o)break e;o--,l+=r[a++]<<c,c+=8}t.head&&(t.head.xflags=255&l,t.head.os=l>>8),512&t.flags&&4&t.wrap&&(C[0]=255&l,C[1]=l>>>8&255,t.check=j(t.check,C,2,0)),l=0,c=0,t.mode=16184;case 16184:if(1024&t.flags){for(;c<16;){if(0===o)break e;o--,l+=r[a++]<<c,c+=8}t.length=l,t.head&&(t.head.extra_len=l),512&t.flags&&4&t.wrap&&(C[0]=255&l,C[1]=l>>>8&255,t.check=j(t.check,C,2,0)),l=0,c=0}else t.head&&(t.head.extra=null);t.mode=16185;case 16185:if(1024&t.flags&&((p=(p=t.length)>o?o:p)&&(t.head&&(I=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(a,a+p),I)),512&t.flags&&4&t.wrap&&(t.check=j(t.check,r,p,a)),o-=p,a+=p,t.length-=p),t.length))break e;t.length=0,t.mode=16186;case 16186:if(2048&t.flags){if(0===o)break e;for(p=0;I=r[a+p++],t.head&&I&&t.length<65536&&(t.head.name+=String.fromCharCode(I)),I&&p<o;);if(512&t.flags&&4&t.wrap&&(t.check=j(t.check,r,p,a)),o-=p,a+=p,I)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=16187;case 16187:if(4096&t.flags){if(0===o)break e;for(p=0;I=r[a+p++],t.head&&I&&t.length<65536&&(t.head.comment+=String.fromCharCode(I)),I&&p<o;);if(512&t.flags&&4&t.wrap&&(t.check=j(t.check,r,p,a)),o-=p,a+=p,I)break e}else t.head&&(t.head.comment=null);t.mode=16188;case 16188:if(512&t.flags){for(;c<16;){if(0===o)break e;o--,l+=r[a++]<<c,c+=8}if(4&t.wrap&&l!==(65535&t.check)){d.msg="header crc mismatch",t.mode=P;break}l=0,c=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),d.adler=t.check=0,t.mode=Ln;break;case 16189:for(;c<32;){if(0===o)break e;o--,l+=r[a++]<<c,c+=8}d.adler=t.check=Vn(l),l=0,c=0,t.mode=zn;case zn:if(0===t.havedict)return d.next_out=n,d.avail_out=s,d.next_in=a,d.avail_in=o,t.hold=l,t.bits=c,En;d.adler=t.check=1,t.mode=Ln;case Ln:if(e===Sn||e===An)break e;case 16192:if(t.last)l>>>=7&c,c-=7&c,t.mode=16206;else{for(;c<3;){if(0===o)break e;o--,l+=r[a++]<<c,c+=8}switch(t.last=1&l,l>>>=1,--c,3&l){case 0:t.mode=16193;break;case 1:if((t=>{if(qn){Qn=new Int32Array(512),Xn=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(In(_n,t.lens,0,288,Qn,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;In(Cn,t.lens,0,32,Xn,0,t.work,{bits:5}),qn=!1}t.lencode=Qn,t.lenbits=9,t.distcode=Xn,t.distbits=5})(t),t.mode=Un,e!==An)break;l>>>=2,c-=2;break e;case 2:t.mode=16196;break;case 3:d.msg="invalid block type",t.mode=P}l>>>=2,c-=2}break;case 16193:for(l>>>=7&c,c-=7&c;c<32;){if(0===o)break e;o--,l+=r[a++]<<c,c+=8}if((65535&l)!=(l>>>16^65535)){d.msg="invalid stored block lengths",t.mode=P;break}if(t.length=65535&l,l=0,c=0,t.mode=16194,e===An)break e;case 16194:t.mode=16195;case 16195:if(p=t.length){if(0===(p=(p=p>o?o:p)>s?s:p))break e;i.set(r.subarray(a,a+p),n),o-=p,a+=p,s-=p,n+=p,t.length-=p}else t.mode=Ln;break;case 16196:for(;c<14;){if(0===o)break e;o--,l+=r[a++]<<c,c+=8}if(t.nlen=257+(31&l),l>>>=5,c-=5,t.ndist=1+(31&l),l>>>=5,c-=5,t.ncode=4+(15&l),l>>>=4,c-=4,286<t.nlen||30<t.ndist){d.msg="too many length or distance symbols",t.mode=P;break}t.have=0,t.mode=16197;case 16197:for(;t.have<t.ncode;){for(;c<3;){if(0===o)break e;o--,l+=r[a++]<<c,c+=8}t.lens[H[t.have++]]=7&l,l>>>=3,c-=3}for(;t.have<19;)t.lens[H[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,k={bits:t.lenbits},_=In(0,t.lens,0,19,t.lencode,0,t.work,k),t.lenbits=k.bits,_){d.msg="invalid code lengths set",t.mode=P;break}t.have=0,t.mode=16198;case 16198:for(;t.have<t.nlen+t.ndist;){for(;m=t.lencode[l&(1<<t.lenbits)-1],g=m>>>24,f=m>>>16&255,b=65535&m,!(g<=c);){if(0===o)break e;o--,l+=r[a++]<<c,c+=8}if(b<16)l>>>=g,c-=g,t.lens[t.have++]=b;else{if(16===b){for(S=g+2;c<S;){if(0===o)break e;o--,l+=r[a++]<<c,c+=8}if(l>>>=g,c-=g,0===t.have){d.msg="invalid bit length repeat",t.mode=P;break}I=t.lens[t.have-1],p=3+(3&l),l>>>=2,c-=2}else if(17===b){for(S=g+3;c<S;){if(0===o)break e;o--,l+=r[a++]<<c,c+=8}l>>>=g,c-=g,I=0,p=3+(7&l),l>>>=3,c-=3}else{for(S=g+7;c<S;){if(0===o)break e;o--,l+=r[a++]<<c,c+=8}l>>>=g,c-=g,I=0,p=11+(127&l),l>>>=7,c-=7}if(t.have+p>t.nlen+t.ndist){d.msg="invalid bit length repeat",t.mode=P;break}for(;p--;)t.lens[t.have++]=I}}if(t.mode===P)break;if(0===t.lens[256]){d.msg="invalid code -- missing end-of-block",t.mode=P;break}if(t.lenbits=9,k={bits:t.lenbits},_=In(_n,t.lens,0,t.nlen,t.lencode,0,t.work,k),t.lenbits=k.bits,_){d.msg="invalid literal/lengths set",t.mode=P;break}if(t.distbits=6,t.distcode=t.distdyn,k={bits:t.distbits},_=In(Cn,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,k),t.distbits=k.bits,_){d.msg="invalid distances set",t.mode=P;break}if(t.mode=Un,e===An)break e;case Un:t.mode=Zn;case Zn:if(6<=o&&258<=s){d.next_out=n,d.avail_out=s,d.next_in=a,d.avail_in=o,t.hold=l,t.bits=c;{F=void 0;Y=void 0;A=void 0;U=void 0;x=void 0;Z=void 0;R=void 0;B=void 0;E=void 0;T=void 0;W=void 0;G=void 0;V=void 0;K=void 0;M=void 0;N=void 0;O=void 0;D=void 0;var F=d;var Y=u;let e;let t,r,i,a,n,o,s,l;var D=F.state;e=F.next_in,N=F.input,A=e+(F.avail_in-5),t=F.next_out,O=F.output,U=t-(Y-F.avail_out),x=t+(F.avail_out-257),Z=D.dmax,R=D.wsize,B=D.whave,E=D.wnext,T=D.window,r=D.hold,i=D.bits,W=D.lencode,G=D.distcode,V=(1<<D.lenbits)-1,K=(1<<D.distbits)-1;t:do{for(i<15&&(r+=N[e++]<<i,i+=8,r+=N[e++]<<i,i+=8),a=W[r&V];;){if(n=a>>>24,r>>>=n,i-=n,0===(n=a>>>16&255))O[t++]=65535&a;else{if(!(16&n)){if(0==(64&n)){a=W[(65535&a)+(r&(1<<n)-1)];continue}if(32&n){D.mode=fn;break t}F.msg="invalid literal/length code",D.mode=gn;break t}for(o=65535&a,(n&=15)&&(i<n&&(r+=N[e++]<<i,i+=8),o+=r&(1<<n)-1,r>>>=n,i-=n),i<15&&(r+=N[e++]<<i,i+=8,r+=N[e++]<<i,i+=8),a=G[r&K];;){if(n=a>>>24,r>>>=n,i-=n,!(16&(n=a>>>16&255))){if(0==(64&n)){a=G[(65535&a)+(r&(1<<n)-1)];continue}F.msg="invalid distance code",D.mode=gn;break t}if(M=65535&a,n&=15,i<n&&(r+=N[e++]<<i,(i+=8)<n)&&(r+=N[e++]<<i,i+=8),Z<(M+=r&(1<<n)-1)){F.msg="invalid distance too far back",D.mode=gn;break t}if(r>>>=n,i-=n,M>(n=t-U)){if((n=M-n)>B&&D.sane){F.msg="invalid distance too far back",D.mode=gn;break t}if(s=0,l=T,0===E){if(s+=R-n,n<o){for(o-=n;O[t++]=T[s++],--n;);s=t-M,l=O}}else if(E<n){if(s+=R+E-n,(n-=E)<o){for(o-=n;O[t++]=T[s++],--n;);if(s=0,E<o){for(n=E,o-=n;O[t++]=T[s++],--n;);s=t-M,l=O}}}else if(s+=E-n,n<o){for(o-=n;O[t++]=T[s++],--n;);s=t-M,l=O}for(;2<o;)O[t++]=l[s++],O[t++]=l[s++],O[t++]=l[s++],o-=3;o&&(O[t++]=l[s++],1<o)&&(O[t++]=l[s++])}else{for(s=t-M;O[t++]=O[s++],O[t++]=O[s++],O[t++]=O[s++],2<(o-=3););o&&(O[t++]=O[s++],1<o)&&(O[t++]=O[s++])}break}}break}}while(e<A&&t<x);o=i>>3,e-=o,i-=o<<3,r&=(1<<i)-1,F.next_in=e,F.next_out=t,F.avail_in=e<A?A-e+5:5-(e-A),F.avail_out=t<x?x-t+257:257-(t-x),D.hold=r,D.bits=i}n=d.next_out,i=d.output,s=d.avail_out,a=d.next_in,r=d.input,o=d.avail_in,l=t.hold,c=t.bits,t.mode===Ln&&(t.back=-1);break}for(t.back=0;m=t.lencode[l&(1<<t.lenbits)-1],g=m>>>24,f=m>>>16&255,b=65535&m,!(g<=c);){if(0===o)break e;o--,l+=r[a++]<<c,c+=8}if(f&&0==(240&f)){for(w=g,y=f,v=b;m=t.lencode[v+((l&(1<<w+y)-1)>>w)],g=m>>>24,f=m>>>16&255,b=65535&m,!(w+g<=c);){if(0===o)break e;o--,l+=r[a++]<<c,c+=8}l>>>=w,c-=w,t.back+=w}if(l>>>=g,c-=g,t.back+=g,t.length=b,0===f){t.mode=16205;break}if(32&f){t.back=-1,t.mode=Ln;break}if(64&f){d.msg="invalid literal/length code",t.mode=P;break}t.extra=15&f,t.mode=16201;case 16201:if(t.extra){for(S=t.extra;c<S;){if(0===o)break e;o--,l+=r[a++]<<c,c+=8}t.length+=l&(1<<t.extra)-1,l>>>=t.extra,c-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=16202;case 16202:for(;m=t.distcode[l&(1<<t.distbits)-1],g=m>>>24,f=m>>>16&255,b=65535&m,!(g<=c);){if(0===o)break e;o--,l+=r[a++]<<c,c+=8}if(0==(240&f)){for(w=g,y=f,v=b;m=t.distcode[v+((l&(1<<w+y)-1)>>w)],g=m>>>24,f=m>>>16&255,b=65535&m,!(w+g<=c);){if(0===o)break e;o--,l+=r[a++]<<c,c+=8}l>>>=w,c-=w,t.back+=w}if(l>>>=g,c-=g,t.back+=g,64&f){d.msg="invalid distance code",t.mode=P;break}t.offset=b,t.extra=15&f,t.mode=16203;case 16203:if(t.extra){for(S=t.extra;c<S;){if(0===o)break e;o--,l+=r[a++]<<c,c+=8}t.offset+=l&(1<<t.extra)-1,l>>>=t.extra,c-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){d.msg="invalid distance too far back",t.mode=P;break}t.mode=16204;case 16204:if(0===s)break e;if(p=u-s,t.offset>p){if((p=t.offset-p)>t.whave&&t.sane){d.msg="invalid distance too far back",t.mode=P;break}z=p>t.wnext?(p-=t.wnext,t.wsize-p):t.wnext-p,p>t.length&&(p=t.length),L=t.window}else L=i,z=n-t.offset,p=t.length;for(p>s&&(p=s),s-=p,t.length-=p;i[n++]=L[z++],--p;);0===t.length&&(t.mode=Zn);break;case 16205:if(0===s)break e;i[n++]=t.length,s--,t.mode=Zn;break;case 16206:if(t.wrap){for(;c<32;){if(0===o)break e;o--,l|=r[a++]<<c,c+=8}if(u-=s,d.total_out+=u,t.total+=u,4&t.wrap&&u&&(d.adler=t.check=(t.flags?j:Fi)(t.check,i,u,n-u)),u=s,4&t.wrap&&(t.flags?l:Vn(l))!==t.check){d.msg="incorrect data check",t.mode=P;break}l=0,c=0}t.mode=16207;case 16207:if(t.wrap&&t.flags){for(;c<32;){if(0===o)break e;o--,l+=r[a++]<<c,c+=8}if(4&t.wrap&&l!==(4294967295&t.total)){d.msg="incorrect length check",t.mode=P;break}l=0,c=0}t.mode=16208;case 16208:_=Rn;break e;case P:_=Mn;break e;case 16210:return Nn;default:Bn;return Tn}return d.next_out=n,d.avail_out=s,d.next_in=a,d.avail_in=o,t.hold=l,t.bits=c,(t.wsize||u!==d.avail_out&&t.mode<P&&(t.mode<16206||e!==kn))&&$n(d,d.output,d.next_out,u-d.avail_out),h-=d.avail_in,u-=d.avail_out,d.total_in+=h,d.total_out+=u,t.total+=u,4&t.wrap&&u&&(d.adler=t.check=(t.flags?j:Fi)(t.check,i,u,d.next_out-u)),d.data_type=t.bits+(t.last?64:0)+(t.mode===Ln?128:0)+(t.mode===Un||16194===t.mode?256:0),_=(0==h&&0===u||e===kn)&&_===xn?On:_},inflateEnd:e=>{var t;return Hn(e)?Tn:((t=e.state).window&&(t.window=null),e.state=null,xn)},inflateGetHeader:(e,t)=>Hn(e)||0==(2&(e=e.state).wrap)?Tn:((e.head=t).done=!1,xn),inflateSetDictionary:(e,t)=>{var r,i=t.length;return Hn(e)||0!==(r=e.state).wrap&&r.mode!==zn?Tn:r.mode===zn&&Fi(1,t,i,0)!==r.check?Mn:$n(e,t,i,i)?(r.mode=16210,Nn):(r.havedict=1,xn)},inflateInfo:"pako inflate (from Nodeca project)"};var to=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};let ro=Object.prototype.toString,{Z_NO_FLUSH:io,Z_FINISH:ao,Z_OK:no,Z_STREAM_END:oo,Z_NEED_DICT:so,Z_STREAM_ERROR:lo,Z_DATA_ERROR:co,Z_MEM_ERROR:ho}=Se;function uo(e){this.options=Va({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options,e=(t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits)&&(t.windowBits=-15),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qa,this.strm.avail_out=0,eo.inflateInit2(this.strm,t.windowBits));if(e!==no)throw new Error(zi[e]);if(this.header=new to,eo.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=ja(t.dictionary):"[object ArrayBuffer]"===ro.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw)&&(e=eo.inflateSetDictionary(this.strm,t.dictionary))!==no)throw new Error(zi[e])}function po(e,t){t=new uo(t);if(t.push(e),t.err)throw t.msg||zi[t.err];return t.result}uo.prototype.push=function(e,t){var r,i,a,n=this.strm,o=this.options.chunkSize,s=this.options.dictionary;let l,d,c;if(this.ended)return!1;for(d=t===~~t?t:!0===t?ao:io,"[object ArrayBuffer]"===ro.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(o),n.next_out=0,n.avail_out=o),(l=eo.inflate(n,d))===so&&s&&((l=eo.inflateSetDictionary(n,s))===no?l=eo.inflate(n,d):l===co&&(l=so));0<n.avail_in&&l===oo&&0<n.state.wrap&&0!==e[n.next_in];)eo.inflateReset(n),l=eo.inflate(n,d);switch(l){case lo:case co:case so:case ho:return this.onEnd(l),!(this.ended=!0)}if(c=n.avail_out,!n.next_out||0!==n.avail_out&&l!==oo||("string"===this.options.to?(r=Ja(n.output,n.next_out),i=n.next_out-r,a=Pa(n.output,r),n.next_out=i,n.avail_out=o-i,i&&n.output.set(n.output.subarray(r,r+i),0),this.onData(a)):this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out))),l!==no||0!==c){if(l===oo)return l=eo.inflateEnd(this.strm),this.onEnd(l),this.ended=!0;if(0===n.avail_in)break}}return!0},uo.prototype.onData=function(e){this.chunks.push(e)},uo.prototype.onEnd=function(e){e===no&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Ka(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var{Deflate:Re,deflate:Ie,deflateRaw:Ne,gzip:ee}=mn,{Inflate:we,inflate:ye,inflateRaw:Pe,ungzip:Te}={Inflate:uo,inflate:po,inflateRaw:function(e,t){return(t=t||{}).raw=!0,po(e,t)},ungzip:po},mo={Deflate:Re,deflate:Ie,deflateRaw:Ne,gzip:ee,Inflate:we,inflate:ye,inflateRaw:Pe,ungzip:Te,constants:Se},ve="function"==typeof Buffer;let go="function"==typeof TextDecoder?new TextDecoder:void 0,fo="function"==typeof TextEncoder?new TextEncoder:void 0;let bo=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),wo=(e=>{let r={};return e.forEach((e,t)=>r[e]=t),r})(bo),yo=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,A=String.fromCharCode.bind(String),vo="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),Io=e=>e.replace(/=/g,"").replace(/[+\/]/g,e=>"+"==e?"-":"_"),_o=e=>e.replace(/[^A-Za-z0-9\+\/]/g,"");Me=t=>{let r,i,a,n,o="";var e=t.length%3;for(let e=0;e<t.length;){if(255<(i=t.charCodeAt(e++))||255<(a=t.charCodeAt(e++))||255<(n=t.charCodeAt(e++)))throw new TypeError("invalid character found");r=i<<16|a<<8|n,o+=bo[r>>18&63]+bo[r>>12&63]+bo[r>>6&63]+bo[63&r]}return e?o.slice(0,e-3)+"===".substring(e):o};let Co="function"==typeof btoa?e=>btoa(e):ve?e=>Buffer.from(e,"binary").toString("base64"):Me,ko=ve?e=>Buffer.from(e).toString("base64"):r=>{var i=[];for(let e=0,t=r.length;e<t;e+=4096)i.push(A.apply(null,r.subarray(e,e+4096)));return Co(i.join(""))},So=(e,t=!1)=>t?Io(ko(e)):ko(e),Ao=e=>{var t;return e.length<2?(t=e.charCodeAt(0))<128?e:t<2048?A(192|t>>>6)+A(128|63&t):A(224|t>>>12&15)+A(128|t>>>6&63)+A(128|63&t):(t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320),A(240|t>>>18&7)+A(128|t>>>12&63)+A(128|t>>>6&63)+A(128|63&t))},xo=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Ro=e=>e.replace(xo,Ao),Eo=ve?e=>Buffer.from(e,"utf8").toString("base64"):fo?e=>ko(fo.encode(e)):e=>Co(Ro(e)),To=(e,t=!1)=>t?Io(Eo(e)):Eo(e);n=e=>To(e,!0);let Mo=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,No=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return A(55296+(t>>>10))+A(56320+(1023&t));case 3:return A((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return A((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},Oo=e=>e.replace(Mo,No);X=t=>{if(t=t.replace(/\s+/g,""),!yo.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));let r,i="",a,n;for(let e=0;e<t.length;)r=wo[t.charAt(e++)]<<18|wo[t.charAt(e++)]<<12|(a=wo[t.charAt(e++)])<<6|(n=wo[t.charAt(e++)]),i+=64===a?A(r>>16&255):64===n?A(r>>16&255,r>>8&255):A(r>>16&255,r>>8&255,255&r);return i};let Fo="function"==typeof atob?e=>atob(_o(e)):ve?e=>Buffer.from(e,"base64").toString("binary"):X,Do=ve?e=>vo(Buffer.from(e,"base64")):e=>vo(Fo(e).split("").map(e=>e.charCodeAt(0))),zo=e=>Do(Uo(e)),Lo=ve?e=>Buffer.from(e,"base64").toString("utf8"):go?e=>go.decode(Do(e)):e=>Oo(Fo(e)),Uo=e=>_o(e.replace(/[-_]/g,e=>"-"==e?"+":"/")),Zo=e=>Lo(Uo(e));function Bo(){var e=(e,t)=>Object.defineProperty(String.prototype,e,Go(t));e("fromBase64",function(){return Zo(this)}),e("toBase64",function(e){return To(this,e)}),e("toBase64URI",function(){return To(this,!0)}),e("toBase64URL",function(){return To(this,!0)}),e("toUint8Array",function(){return zo(this)})}function Wo(){var e=(e,t)=>Object.defineProperty(Uint8Array.prototype,e,Go(t));e("toBase64",function(e){return So(this,e)}),e("toBase64URI",function(){return So(this,!0)}),e("toBase64URL",function(){return So(this,!0)})}let Go=e=>({value:e,enumerable:!1,writable:!0,configurable:!0});let Vo={version:"3.7.7",VERSION:"3.7.7",atob:Fo,atobPolyfill:X,btoa:Co,btoaPolyfill:Me,fromBase64:Zo,toBase64:To,encode:To,encodeURI:n,encodeURL:n,utob:Ro,btou:Oo,decode:Zo,isValid:e=>"string"==typeof e&&(e=e.replace(/\s+/g,"").replace(/={0,2}$/,""),!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)),fromUint8Array:So,toUint8Array:zo,extendString:Bo,extendUint8Array:Wo,extendBuiltins:()=>{Bo(),Wo()}};function Ko(r,e){let i=[];Br({emit(e,t){t&&(s.hasError?(t=s.recordScreenId,s.recordScreenId=R(),r.send({type:it.RECORDSCREEN,recordScreenId:t,time:Date.now(),status:at.OK,events:(e=>{if(!e)return e;let t="string"!=typeof e&&"number"!=typeof e?JSON.stringify(e):e,r=Vo.encode(t),i=mo.gzip(r),a=Array.from(i),n="";return a.forEach(e=>{n+=String.fromCharCode(e)}),Vo.btoa(n)})(i)}),i=[],s.hasError=!1):(i=[],s.recordScreenId=R())),i.push(e)},recordCanvas:!0,checkoutEveryNms:1e3*e}),console.log("handleScreen")}return class{constructor(e){this.recordScreentime=10,this.recordScreenTypeList=[it.ERROR,it.UNHANDLEDREJECTION,it.RESOURCE,it.XHR,it.FETCH],this.type=it.RECORDSCREEN,this.bindOptions(e)}bindOptions(e){var{recordScreenTime:e,recordScreenTypeList:t}=e;x(e,"recordScreenTime","number")&&(this.recordScreentime=e||10),x(t,"recordScreenTypeList","array")&&(this.recordScreenTypeList=t||[])}core({transportData:e,options:t}){console.log("options",t),t.silentRecordScreen=!0,t.recordScreenTypeList=this.recordScreenTypeList,s.recordScreenTime=this.recordScreentime,s.recordScreenId=R(),Ko(e,this.recordScreentime)}}});
//# sourceMappingURL=index.min.js.map
